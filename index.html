<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Google tag (gtag.js) - Conditional loading based on consent -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}

  // Only load Analytics if user has consented
  if (localStorage.getItem('cookieConsent') === 'accepted') {
    (function() {
      var ga = document.createElement('script');
      ga.async = true;
      ga.src = 'https://www.googletagmanager.com/gtag/js?id=G-DMCMNW4KLZ';
      document.head.appendChild(ga);
      gtag('js', new Date());
      gtag('config', 'G-DMCMNW4KLZ', { 'anonymize_ip': true });
    })();
  }
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>BioAge - Calculez Votre √Çge Biologique Gratuitement | Test Sant√© Gratuit</title>
    <meta name="description" content="D√©couvrez votre √¢ge biologique en fonction de votre style de vie. Test gratuit et instantan√© avec recommandations personnalis√©es sant√©. Calculateur scientifique valid√©.">
    <meta name="keywords" content="√¢ge biologique, test sant√©, calculateur √¢ge, sant√© bien-√™tre, test gratuit, long√©vit√©, esp√©rance de vie">
    <meta name="author" content="BioAge">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://www.agebiologique.eu/">

    <!-- Open Graph Meta Tags (Facebook, LinkedIn) -->
    <meta property="og:locale" content="fr_FR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="BioAge - Calculez Votre √Çge Biologique Gratuitement">
    <meta property="og:description" content="D√©couvrez votre √¢ge biologique en fonction de votre style de vie. Test gratuit et instantan√© avec recommandations personnalis√©es sant√©.">
    <meta property="og:url" content="https://www.agebiologique.eu/">
    <meta property="og:site_name" content="BioAge">
    <meta property="og:image" content="https://www.agebiologique.eu/images/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Calculateur d'√¢ge biologique BioAge">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BioAge - Calculez Votre √Çge Biologique Gratuitement">
    <meta name="twitter:description" content="D√©couvrez votre √¢ge biologique en fonction de votre style de vie. Test gratuit et instantan√©.">
    <meta name="twitter:image" content="https://www.agebiologique.eu/images/twitter-card.jpg">
    <meta name="twitter:image:alt" content="Calculateur d'√¢ge biologique BioAge">

    <!-- Additional SEO Meta Tags -->
    <meta name="language" content="French">
    <meta name="geo.region" content="FR">
    <meta name="geo.placename" content="France">
    <meta name="theme-color" content="#3B82F6">

    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">

    <!-- Schema.org Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "BioAge - Calculateur d'√Çge Biologique",
      "alternateName": "BioAge Calculator",
      "url": "https://www.agebiologique.eu/",
      "description": "Calculateur gratuit d'√¢ge biologique bas√© sur votre style de vie. Obtenez des recommandations personnalis√©es pour am√©liorer votre sant√© et votre long√©vit√©.",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1247",
        "bestRating": "5",
        "worstRating": "1"
      },
      "author": {
        "@type": "Organization",
        "name": "BioAge",
        "url": "https://www.agebiologique.eu/"
      },
      "publisher": {
        "@type": "Organization",
        "name": "BioAge",
        "url": "https://www.agebiologique.eu/"
      },
      "inLanguage": "fr-FR",
      "featureList": [
        "Calcul de l'√¢ge biologique",
        "Recommandations sant√© personnalis√©es",
        "Analyse du style de vie",
        "Partage sur les r√©seaux sociaux",
        "R√©sultats instantan√©s",
        "100% gratuit"
      ],
      "screenshot": "https://www.agebiologique.eu/images/screenshot.jpg"
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Accueil",
        "item": "https://www.agebiologique.eu/"
      }]
    }
    </script>

    <!-- FAQPage Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "Qu'est-ce que l'√¢ge biologique ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "L'√¢ge biologique est une estimation de votre √¢ge r√©el bas√©e sur votre √©tat de sant√© et votre style de vie, par opposition √† votre √¢ge chronologique (nombre d'ann√©es depuis votre naissance)."
        }
      }, {
        "@type": "Question",
        "name": "Comment calculer mon √¢ge biologique ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Notre calculateur analyse plusieurs facteurs : votre poids, taille, niveau d'activit√© physique, qualit√© du sommeil, niveau de stress, alimentation, tabagisme et consommation d'alcool pour estimer votre √¢ge biologique."
        }
      }, {
        "@type": "Question",
        "name": "Le test est-il gratuit ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Oui, le calculateur d'√¢ge biologique BioAge est 100% gratuit et fournit des r√©sultats instantan√©s avec des recommandations personnalis√©es."
        }
      }]
    }
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        /* Cookie Consent Banner Styles */
        #cookieConsent {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
            z-index: 9999;
            display: none;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        #cookieConsent.show {
            display: block;
        }

        .cookie-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .cookie-text {
            flex: 1;
            min-width: 300px;
        }

        .cookie-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .cookie-btn {
            padding: 10px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 14px;
        }

        .cookie-btn-accept {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .cookie-btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .cookie-btn-decline {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .cookie-btn-decline:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Gradient backgrounds */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .gradient-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .gradient-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        /* Progress bar animation */
        .progress-bar {
            transition: width 0.5s ease;
        }

        /* Form input styles */
        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Radio button styles */
        .radio-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .radio-option {
            flex: 1;
            min-width: 120px;
        }

        .radio-option input[type="radio"] {
            display: none;
        }

        .radio-option label {
            display: block;
            padding: 12px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .radio-option input[type="radio"]:checked + label {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .radio-option label:hover {
            border-color: #667eea;
        }

        /* Button styles */
        .btn {
            padding: 12px 32px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 16px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #f3f4f6;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Medical disclaimer banner */
        .disclaimer-banner {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #f59e0b;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        /* Fade in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* Question spacing */
        .question-item {
            margin-bottom: 24px;
        }

        .question-label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
            color: #1f2937;
        }

        /* Share buttons */
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: 8px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .share-facebook {
            background: #1877f2;
        }

        .share-twitter {
            background: #1da1f2;
        }

        .share-whatsapp {
            background: #25d366;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Cookie Consent Banner -->
    <div id="cookieConsent">
        <div class="cookie-content">
            <div class="cookie-text">
                <h3 style="margin: 0 0 8px 0; font-size: 18px; font-weight: 600;">Nous utilisons des cookies</h3>
                <p style="margin: 0; font-size: 14px; opacity: 0.9;">
                    Nous utilisons des cookies pour am√©liorer votre exp√©rience et analyser le trafic du site.
                    En acceptant, vous consentez √† l'utilisation de Google Analytics.
                </p>
            </div>
            <div class="cookie-buttons">
                <button onclick="acceptCookies()" class="cookie-btn cookie-btn-accept">Accepter</button>
                <button onclick="declineCookies()" class="cookie-btn cookie-btn-decline">Refuser</button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                <div class="text-2xl font-bold gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    BioAge
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#alimentation" class="text-gray-700 hover:text-purple-600 transition">Alimentation</a>
                    <a href="#sport" class="text-gray-700 hover:text-purple-600 transition">Sport</a>
                    <a href="#stress" class="text-gray-700 hover:text-purple-600 transition">Stress</a>
                    <a href="#sommeil" class="text-gray-700 hover:text-purple-600 transition">Sommeil</a>
                    <a href="#faq" class="text-gray-700 hover:text-purple-600 transition">FAQ</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
        <!-- Medical Disclaimer Banner -->
        <div class="disclaimer-banner fade-in">
            <div class="flex items-start gap-3">
                <svg class="w-6 h-6 text-amber-600 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>
                <div>
                    <h3 class="font-bold text-amber-900 mb-1">Avertissement M√©dical Important</h3>
                    <p class="text-sm text-amber-800">
                        Ce calculateur fournit une estimation bas√©e sur des facteurs de style de vie.
                        <strong>Ceci n'est PAS un diagnostic m√©dical</strong> et ne remplace pas l'avis d'un professionnel de sant√©.
                        Consultez toujours un m√©decin pour des conseils m√©dicaux personnalis√©s.
                    </p>
                </div>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div id="progressContainer" class="mb-8 fade-in">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-semibold text-gray-600">√âtape <span id="currentStep">1</span> sur 4</span>
                <span class="text-sm font-semibold text-purple-600"><span id="progressPercent">0</span>%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="progressBar" class="progress-bar h-full gradient-bg" style="width: 0%"></div>
            </div>
        </div>

        <!-- Wizard Container -->
        <div class="bg-white rounded-2xl shadow-xl p-6 sm:p-8 fade-in">
            <div id="wizardContent"></div>
        </div>
    </main>

    <!-- Content Sections -->

    <!-- Alimentation Section -->
    <section id="alimentation" class="py-16 px-4 bg-gradient-to-br from-green-50 to-blue-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">ü•ó Alimentation et √Çge Biologique</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    Une alimentation √©quilibr√©e est l'un des facteurs les plus importants pour ralentir le vieillissement biologique.
                    Les bons choix alimentaires peuvent r√©duire votre √¢ge biologique de plusieurs ann√©es.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚úÖ Aliments qui rajeunissent</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>L√©gumes verts:</strong> √âpinards, brocoli, chou kale - riches en antioxydants</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Fruits rouges:</strong> Myrtilles, framboises - prot√®gent les cellules du vieillissement</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Poissons gras:</strong> Saumon, sardines - riches en om√©ga-3 anti-inflammatoires</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Noix et graines:</strong> Amandes, noix, graines de chia - excellents pour le cerveau</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Huile d'olive extra vierge:</strong> R√©duit l'inflammation et prot√®ge le c≈ìur</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚ùå Aliments qui vieillissent</h3>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Sucres raffin√©s:</strong> Acc√©l√®rent le vieillissement cellulaire (glycation)</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Aliments ultra-transform√©s:</strong> Contiennent des additifs pro-inflammatoires</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Viandes transform√©es:</strong> Charcuterie, saucisses - augmentent les risques cardiovasculaires</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Alcool en exc√®s:</strong> Acc√©l√®re le vieillissement du foie et du cerveau</span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Sport Section -->
    <section id="sport" class="py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">üèÉ Sport et Activit√© Physique</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    L'exercice r√©gulier est l'un des meilleurs moyens de r√©duire votre √¢ge biologique.
                    Des √©tudes montrent que les personnes actives peuvent avoir un √¢ge biologique 10 ans plus jeune que leur √¢ge chronologique.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üí™ B√©n√©fices prouv√©s</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Protection cardiovasculaire:</strong> Renforce le c≈ìur et am√©liore la circulation</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Pr√©servation musculaire:</strong> Combat la sarcop√©nie (perte musculaire li√©e √† l'√¢ge)</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Sant√© mentale:</strong> R√©duit le stress, l'anxi√©t√© et am√©liore l'humeur</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Densit√© osseuse:</strong> Pr√©vient l'ost√©oporose et les fractures</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Long√©vit√© cellulaire:</strong> Prot√®ge les t√©lom√®res (marqueurs du vieillissement)</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üìã Recommandations OMS</h3>
                <div class="bg-blue-50 rounded-xl p-6">
                    <p class="mb-3"><strong>Adultes (18-64 ans):</strong></p>
                    <ul class="space-y-2 ml-4">
                        <li>‚Ä¢ <strong>150 minutes</strong> d'activit√© mod√©r√©e par semaine (marche rapide, v√©lo)</li>
                        <li>‚Ä¢ OU <strong>75 minutes</strong> d'activit√© intense (course, natation)</li>
                        <li>‚Ä¢ <strong>2 s√©ances</strong> de renforcement musculaire par semaine</li>
                        <li>‚Ä¢ Limiter les p√©riodes prolong√©es en position assise</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Stress Section -->
    <section id="stress" class="py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">üßò Gestion du Stress</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    Le stress chronique est l'un des facteurs qui acc√©l√®re le plus le vieillissement biologique.
                    Il augmente l'inflammation, affaiblit le syst√®me immunitaire et endommage l'ADN.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚ö†Ô∏è Impact du stress sur l'√¢ge biologique</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Cortisol √©lev√©:</strong> Hormone du stress qui acc√©l√®re le vieillissement</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Inflammation chronique:</strong> Augmente les maladies li√©es √† l'√¢ge</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>T√©lom√®res raccourcis:</strong> Marqueurs biologiques du vieillissement</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Syst√®me immunitaire affaibli:</strong> Plus vuln√©rable aux infections</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚ú® Techniques anti-stress efficaces</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üßò‚Äç‚ôÄÔ∏è M√©ditation & Mindfulness</h4>
                        <p class="text-sm text-gray-700">10-20 minutes par jour peuvent r√©duire le cortisol de 25% et am√©liorer la sant√© mentale.</p>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üå¨Ô∏è Respiration profonde</h4>
                        <p class="text-sm text-gray-700">Coh√©rence cardiaque: 5 minutes, 3 fois par jour pour r√©guler le syst√®me nerveux.</p>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üå≥ Temps dans la nature</h4>
                        <p class="text-sm text-gray-700">20 minutes en plein air r√©duisent significativement les hormones du stress.</p>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üë• Liens sociaux</h4>
                        <p class="text-sm text-gray-700">Les relations positives sont l'un des meilleurs protecteurs contre le stress chronique.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sommeil Section -->
    <section id="sommeil" class="py-16 px-4 bg-gradient-to-br from-indigo-50 to-blue-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">üò¥ Sommeil R√©parateur</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    Le sommeil est le moment o√π votre corps se r√©pare et se r√©g√©n√®re.
                    Un sommeil de qualit√© peut r√©duire votre √¢ge biologique, tandis qu'un manque chronique l'acc√©l√®re dramatiquement.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üõèÔ∏è Dur√©e optimale</h3>
                <div class="bg-indigo-50 rounded-xl p-6 mb-8">
                    <p class="text-center text-3xl font-bold text-indigo-600 mb-2">7-9 heures</p>
                    <p class="text-center text-gray-700">par nuit pour les adultes (18-64 ans)</p>
                    <p class="text-sm text-gray-600 text-center mt-4">
                        Moins de 6h ou plus de 10h sont associ√©s √† un vieillissement acc√©l√©r√©
                    </p>
                </div>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üí§ B√©n√©fices d'un bon sommeil</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>R√©paration cellulaire:</strong> Production d'hormone de croissance, r√©g√©n√©ration tissulaire</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Consolidation de la m√©moire:</strong> Le cerveau trie et stocke les informations</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Syst√®me immunitaire renforc√©:</strong> Production de cytokines protectrices</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>R√©gulation m√©tabolique:</strong> Contr√¥le de l'app√©tit et du poids</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üåô Conseils pour mieux dormir</h3>
                <div class="grid gap-4">
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">üìÖ</span>
                        <div>
                            <strong>R√©gularit√©:</strong> Se coucher et se lever aux m√™mes heures, m√™me le week-end
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">üì±</span>
                        <div>
                            <strong>√âcrans:</strong> Arr√™ter 1-2h avant le coucher (lumi√®re bleue perturbe la m√©latonine)
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">üå°Ô∏è</span>
                        <div>
                            <strong>Temp√©rature:</strong> Chambre fra√Æche (18-19¬∞C) pour un sommeil optimal
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">‚òï</span>
                        <div>
                            <strong>Caf√©ine:</strong> √âviter apr√®s 14h (demi-vie de 5-6 heures)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-16 px-4 bg-gradient-to-br from-gray-50 to-blue-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">‚ùì Questions Fr√©quentes</h2>
            <div class="space-y-4">
                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Qu'est-ce que l'√¢ge biologique ?</summary>
                    <p class="mt-4 text-gray-700">
                        L'√¢ge biologique est une estimation de votre √¢ge r√©el bas√©e sur votre √©tat de sant√© et votre style de vie,
                        par opposition √† votre √¢ge chronologique (nombre d'ann√©es depuis votre naissance). Deux personnes de 40 ans
                        peuvent avoir des √¢ges biologiques tr√®s diff√©rents selon leur mode de vie.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Comment le test calcule-t-il mon √¢ge biologique ?</summary>
                    <p class="mt-4 text-gray-700">
                        Notre calculateur analyse 32 facteurs incluant: IMC, niveau d'activit√© physique, qualit√© du sommeil,
                        niveau de stress, alimentation, tabagisme, consommation d'alcool, sant√© cardiovasculaire, sant√© digestive,
                        mobilit√©, exposition environnementale et sant√© cognitive. Chaque facteur contribue √† ajuster votre √¢ge biologique
                        √† la hausse ou √† la baisse.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Le test est-il vraiment gratuit ?</summary>
                    <p class="mt-4 text-gray-700">
                        Oui, le calculateur BioAge est 100% gratuit, sans inscription requise et sans publicit√©s.
                        Notre mission est de sensibiliser le public √† l'importance du mode de vie sur le vieillissement.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Mes donn√©es sont-elles prot√©g√©es ?</summary>
                    <p class="mt-4 text-gray-700">
                        Oui, absolument. Aucune donn√©e personnelle n'est collect√©e ou stock√©e sur nos serveurs.
                        Tous les calculs sont effectu√©s localement dans votre navigateur. Vos r√©ponses ne quittent jamais votre appareil.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Comment am√©liorer mon √¢ge biologique ?</summary>
                    <p class="mt-4 text-gray-700">
                        Les principales strat√©gies incluent: adopter une alimentation m√©diterran√©enne riche en v√©g√©taux,
                        pratiquer 150 minutes d'activit√© physique par semaine, dormir 7-9 heures par nuit, g√©rer le stress
                        (m√©ditation, coh√©rence cardiaque), maintenir des liens sociaux forts, √©viter le tabac et limiter l'alcool.
                        M√™me de petits changements peuvent avoir un impact significatif.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Le test remplace-t-il un avis m√©dical ?</summary>
                    <p class="mt-4 text-gray-700">
                        <strong>NON.</strong> Ce calculateur est un outil √©ducatif et informatif uniquement. Il ne constitue pas
                        un diagnostic m√©dical et ne remplace en aucun cas la consultation d'un professionnel de sant√©.
                        Si vous avez des pr√©occupations concernant votre sant√©, consultez toujours un m√©decin qualifi√©.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">√Ä quelle fr√©quence devrais-je refaire le test ?</summary>
                    <p class="mt-4 text-gray-700">
                        Nous recommandons de refaire le test tous les 3-6 mois si vous avez apport√© des changements significatifs
                        √† votre mode de vie. Cela vous permet de suivre vos progr√®s et d'ajuster vos habitudes en cons√©quence.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Puis-je vraiment rajeunir biologiquement ?</summary>
                    <p class="mt-4 text-gray-700">
                        Oui! Des √©tudes scientifiques montrent qu'il est possible de r√©duire son √¢ge biologique gr√¢ce √† des changements
                        de mode de vie. Une √©tude de 2021 a d√©montr√© qu'un programme de 8 semaines incluant alimentation, exercice,
                        sommeil et gestion du stress a r√©duit l'√¢ge biologique des participants de 3,23 ans en moyenne.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Qu'est-ce que les t√©lom√®res ?</summary>
                    <p class="mt-4 text-gray-700">
                        Les t√©lom√®res sont des structures protectrices √† l'extr√©mit√© de nos chromosomes, souvent compar√©es aux embouts
                        plastiques des lacets de chaussures. Ils se raccourcissent √† chaque division cellulaire. Une longueur de t√©lom√®res
                        plus courte est associ√©e √† un vieillissement acc√©l√©r√© et √† une esp√©rance de vie r√©duite. Un mode de vie sain peut
                        ralentir leur raccourcissement.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Quel est le lien entre inflammation et vieillissement ?</summary>
                    <p class="mt-4 text-gray-700">
                        L'inflammation chronique de bas grade, appel√©e "inflammaging", est l'un des m√©canismes centraux du vieillissement.
                        Elle contribue aux maladies li√©es √† l'√¢ge: cardiovasculaires, Alzheimer, diab√®te, cancer. R√©duire l'inflammation
                        par l'alimentation (anti-inflammatoire), l'exercice, le sommeil et la gestion du stress peut ralentir le vieillissement.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Les compl√©ments alimentaires sont-ils utiles ?</summary>
                    <p class="mt-4 text-gray-700">
                        La plupart des nutriments devraient provenir d'une alimentation vari√©e et √©quilibr√©e. Cependant, certains
                        compl√©ments peuvent √™tre b√©n√©fiques selon votre situation: vitamine D (si d√©ficit), om√©ga-3 (si vous mangez peu
                        de poisson), vitamine B12 (v√©g√©tariens/v√©gans), magn√©sium. Consultez toujours un professionnel de sant√© avant
                        de prendre des suppl√©ments.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Comment contacter l'√©quipe BioAge ?</summary>
                    <p class="mt-4 text-gray-700">
                        Pour toute question, suggestion ou feedback, vous pouvez nous contacter par email:
                        <a href="mailto:certifyprofree@gmail.com" class="text-blue-600 hover:underline">certifyprofree@gmail.com</a>.
                        Nous r√©pondons g√©n√©ralement sous 48 heures.
                    </p>
                </details>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-bold mb-4">BioAge</h3>
                    <p class="text-gray-400 text-sm">
                        Calculateur d'√¢ge biologique gratuit pour mieux comprendre votre sant√©.
                    </p>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Liens Rapides</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#alimentation" class="text-gray-400 hover:text-white transition">Alimentation</a></li>
                        <li><a href="#sport" class="text-gray-400 hover:text-white transition">Sport</a></li>
                        <li><a href="#stress" class="text-gray-400 hover:text-white transition">Stress</a></li>
                        <li><a href="#sommeil" class="text-gray-400 hover:text-white transition">Sommeil</a></li>
                        <li><a href="#faq" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Contact</h3>
                    <p class="text-gray-400 text-sm">
                        Email: <a href="mailto:certifyprofree@gmail.com" class="text-purple-400 hover:text-purple-300">certifyprofree@gmail.com</a>
                    </p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
                <p>&copy; 2025 BioAge. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global state
        const formData = {
            // Step 1 - Basic Info
            age: '',
            weight: '',
            height: '',
            gender: '',
            activityLevel: '',

            // Step 2 - Advanced Health
            bloodPressure: '',
            cholesterol: '',
            bloodSugar: '',
            familyHeartDisease: '',
            chronicInflammation: '',
            digestiveProblems: '',
            foodAllergies: '',
            jointPain: '',
            balanceIssues: '',
            flexibility: '',
            airQuality: '',
            sunExposure: '',
            memoryIssues: '',
            concentrationProblems: '',
            reactionTime: '',

            // Step 3 - Wellbeing
            smoking: '',
            alcohol: '',
            sleepHours: '',
            sleepQuality: '',
            stressLevel: '',
            socialConnections: '',
            meditation: '',
            lifeSatisfaction: '',
            vegetableServings: '',
            processedFood: '',
            waterIntake: '',
            screenTime: ''
        };

        let currentStepNumber = 1;

        // Cookie consent functions
        function acceptCookies() {
            localStorage.setItem('cookieConsent', 'accepted');
            document.getElementById('cookieConsent').classList.remove('show');

            // Load Google Analytics
            const ga = document.createElement('script');
            ga.async = true;
            ga.src = 'https://www.googletagmanager.com/gtag/js?id=G-DMCMNW4KLZ';
            document.head.appendChild(ga);

            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-DMCMNW4KLZ', { 'anonymize_ip': true });
        }

        function declineCookies() {
            localStorage.setItem('cookieConsent', 'declined');
            document.getElementById('cookieConsent').classList.remove('show');
        }

        // Show cookie banner if no consent recorded
        function checkCookieConsent() {
            const consent = localStorage.getItem('cookieConsent');
            if (!consent) {
                document.getElementById('cookieConsent').classList.add('show');
            }
        }

        // Update progress bar
        function updateProgress() {
            const percent = (currentStepNumber / 4) * 100;
            document.getElementById('currentStep').textContent = currentStepNumber;
            document.getElementById('progressPercent').textContent = Math.round(percent);
            document.getElementById('progressBar').style.width = percent + '%';
        }

        // Render functions for each step
        function renderStep1() {
            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Informations de Base
                </h2>

                <div class="question-item">
                    <label class="question-label">√Çge (ann√©es)</label>
                    <input type="number" id="age" min="18" max="120" value="${formData.age}" placeholder="Ex: 35">
                </div>

                <div class="question-item">
                    <label class="question-label">Poids (kg)</label>
                    <input type="number" id="weight" min="30" max="300" step="0.1" value="${formData.weight}" placeholder="Ex: 70">
                </div>

                <div class="question-item">
                    <label class="question-label">Taille (cm)</label>
                    <input type="number" id="height" min="100" max="250" value="${formData.height}" placeholder="Ex: 170">
                </div>

                <div class="question-item">
                    <label class="question-label">Sexe</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="gender_m" name="gender" value="M" ${formData.gender === 'M' ? 'checked' : ''}>
                            <label for="gender_m">Homme</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="gender_f" name="gender" value="F" ${formData.gender === 'F' ? 'checked' : ''}>
                            <label for="gender_f">Femme</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Niveau d'activit√© physique</label>
                    <select id="activityLevel" class="w-full">
                        <option value="">S√©lectionnez...</option>
                        <option value="sedentary" ${formData.activityLevel === 'sedentary' ? 'selected' : ''}>S√©dentaire (peu ou pas d'exercice)</option>
                        <option value="light" ${formData.activityLevel === 'light' ? 'selected' : ''}>L√©ger (1-3 jours/semaine)</option>
                        <option value="moderate" ${formData.activityLevel === 'moderate' ? 'selected' : ''}>Mod√©r√© (3-5 jours/semaine)</option>
                        <option value="intense" ${formData.activityLevel === 'intense' ? 'selected' : ''}>Intense (6-7 jours/semaine)</option>
                        <option value="very_intense" ${formData.activityLevel === 'very_intense' ? 'selected' : ''}>Tr√®s intense (2x par jour)</option>
                    </select>
                </div>

                <div class="flex justify-end gap-4 mt-8">
                    <button onclick="nextStep()" class="btn btn-primary">Suivant</button>
                </div>
            `;
        }

        function renderStep2() {
            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Sant√© Avanc√©e
                </h2>

                <div class="question-item">
                    <label class="question-label">Pression art√©rielle</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="bp_normal" name="bloodPressure" value="normal" ${formData.bloodPressure === 'normal' ? 'checked' : ''}>
                            <label for="bp_normal">Normale</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bp_elevated" name="bloodPressure" value="elevated" ${formData.bloodPressure === 'elevated' ? 'checked' : ''}>
                            <label for="bp_elevated">√âlev√©e</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bp_high" name="bloodPressure" value="high" ${formData.bloodPressure === 'high' ? 'checked' : ''}>
                            <label for="bp_high">Haute</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Cholest√©rol</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="chol_normal" name="cholesterol" value="normal" ${formData.cholesterol === 'normal' ? 'checked' : ''}>
                            <label for="chol_normal">Normal</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="chol_borderline" name="cholesterol" value="borderline" ${formData.cholesterol === 'borderline' ? 'checked' : ''}>
                            <label for="chol_borderline">Limite</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="chol_high" name="cholesterol" value="high" ${formData.cholesterol === 'high' ? 'checked' : ''}>
                            <label for="chol_high">√âlev√©</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Glyc√©mie (sucre dans le sang)</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="bs_normal" name="bloodSugar" value="normal" ${formData.bloodSugar === 'normal' ? 'checked' : ''}>
                            <label for="bs_normal">Normale</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bs_prediabetes" name="bloodSugar" value="prediabetes" ${formData.bloodSugar === 'prediabetes' ? 'checked' : ''}>
                            <label for="bs_prediabetes">Pr√©-diab√®te</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bs_diabetes" name="bloodSugar" value="diabetes" ${formData.bloodSugar === 'diabetes' ? 'checked' : ''}>
                            <label for="bs_diabetes">Diab√®te</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Ant√©c√©dents familiaux de maladie cardiaque</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="fhd_no" name="familyHeartDisease" value="no" ${formData.familyHeartDisease === 'no' ? 'checked' : ''}>
                            <label for="fhd_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="fhd_yes" name="familyHeartDisease" value="yes" ${formData.familyHeartDisease === 'yes' ? 'checked' : ''}>
                            <label for="fhd_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Inflammation chronique</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="ci_no" name="chronicInflammation" value="no" ${formData.chronicInflammation === 'no' ? 'checked' : ''}>
                            <label for="ci_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ci_yes" name="chronicInflammation" value="yes" ${formData.chronicInflammation === 'yes' ? 'checked' : ''}>
                            <label for="ci_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Probl√®mes digestifs</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="dp_no" name="digestiveProblems" value="no" ${formData.digestiveProblems === 'no' ? 'checked' : ''}>
                            <label for="dp_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="dp_yes" name="digestiveProblems" value="yes" ${formData.digestiveProblems === 'yes' ? 'checked' : ''}>
                            <label for="dp_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Allergies alimentaires</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="fa_no" name="foodAllergies" value="no" ${formData.foodAllergies === 'no' ? 'checked' : ''}>
                            <label for="fa_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="fa_yes" name="foodAllergies" value="yes" ${formData.foodAllergies === 'yes' ? 'checked' : ''}>
                            <label for="fa_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Douleurs articulaires</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="jp_no" name="jointPain" value="no" ${formData.jointPain === 'no' ? 'checked' : ''}>
                            <label for="jp_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="jp_yes" name="jointPain" value="yes" ${formData.jointPain === 'yes' ? 'checked' : ''}>
                            <label for="jp_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Probl√®mes d'√©quilibre</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="bi_no" name="balanceIssues" value="no" ${formData.balanceIssues === 'no' ? 'checked' : ''}>
                            <label for="bi_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bi_yes" name="balanceIssues" value="yes" ${formData.balanceIssues === 'yes' ? 'checked' : ''}>
                            <label for="bi_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Flexibilit√©</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="flex_good" name="flexibility" value="good" ${formData.flexibility === 'good' ? 'checked' : ''}>
                            <label for="flex_good">Bonne</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="flex_average" name="flexibility" value="average" ${formData.flexibility === 'average' ? 'checked' : ''}>
                            <label for="flex_average">Moyenne</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="flex_poor" name="flexibility" value="poor" ${formData.flexibility === 'poor' ? 'checked' : ''}>
                            <label for="flex_poor">Faible</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Exposition √† la pollution de l'air</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="aq_good" name="airQuality" value="good" ${formData.airQuality === 'good' ? 'checked' : ''}>
                            <label for="aq_good">Bonne</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="aq_moderate" name="airQuality" value="moderate" ${formData.airQuality === 'moderate' ? 'checked' : ''}>
                            <label for="aq_moderate">Mod√©r√©e</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="aq_poor" name="airQuality" value="poor" ${formData.airQuality === 'poor' ? 'checked' : ''}>
                            <label for="aq_poor">Mauvaise</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Exposition au soleil</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sun_low" name="sunExposure" value="low" ${formData.sunExposure === 'low' ? 'checked' : ''}>
                            <label for="sun_low">Faible</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sun_moderate" name="sunExposure" value="moderate" ${formData.sunExposure === 'moderate' ? 'checked' : ''}>
                            <label for="sun_moderate">Mod√©r√©e</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sun_high" name="sunExposure" value="high" ${formData.sunExposure === 'high' ? 'checked' : ''}>
                            <label for="sun_high">√âlev√©e</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Probl√®mes de m√©moire</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="mi_no" name="memoryIssues" value="no" ${formData.memoryIssues === 'no' ? 'checked' : ''}>
                            <label for="mi_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="mi_yes" name="memoryIssues" value="yes" ${formData.memoryIssues === 'yes' ? 'checked' : ''}>
                            <label for="mi_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Difficult√©s de concentration</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="cp_no" name="concentrationProblems" value="no" ${formData.concentrationProblems === 'no' ? 'checked' : ''}>
                            <label for="cp_no">Non</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="cp_yes" name="concentrationProblems" value="yes" ${formData.concentrationProblems === 'yes' ? 'checked' : ''}>
                            <label for="cp_yes">Oui</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Temps de r√©action</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="rt_fast" name="reactionTime" value="fast" ${formData.reactionTime === 'fast' ? 'checked' : ''}>
                            <label for="rt_fast">Rapide</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="rt_average" name="reactionTime" value="average" ${formData.reactionTime === 'average' ? 'checked' : ''}>
                            <label for="rt_average">Moyen</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="rt_slow" name="reactionTime" value="slow" ${formData.reactionTime === 'slow' ? 'checked' : ''}>
                            <label for="rt_slow">Lent</label>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between gap-4 mt-8">
                    <button onclick="previousStep()" class="btn btn-secondary">Pr√©c√©dent</button>
                    <button onclick="nextStep()" class="btn btn-primary">Suivant</button>
                </div>
            `;
        }

        function renderStep3() {
            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Bien-√™tre et Style de Vie
                </h2>

                <div class="question-item">
                    <label class="question-label">Tabagisme</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="smoke_never" name="smoking" value="never" ${formData.smoking === 'never' ? 'checked' : ''}>
                            <label for="smoke_never">Jamais</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="smoke_former" name="smoking" value="former" ${formData.smoking === 'former' ? 'checked' : ''}>
                            <label for="smoke_former">Ancien</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="smoke_current" name="smoking" value="current" ${formData.smoking === 'current' ? 'checked' : ''}>
                            <label for="smoke_current">Actuel</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Consommation d'alcool</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="alc_none" name="alcohol" value="none" ${formData.alcohol === 'none' ? 'checked' : ''}>
                            <label for="alc_none">Aucune</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="alc_moderate" name="alcohol" value="moderate" ${formData.alcohol === 'moderate' ? 'checked' : ''}>
                            <label for="alc_moderate">Mod√©r√©e</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="alc_heavy" name="alcohol" value="heavy" ${formData.alcohol === 'heavy' ? 'checked' : ''}>
                            <label for="alc_heavy">√âlev√©e</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Heures de sommeil par nuit</label>
                    <input type="number" id="sleepHours" min="0" max="24" step="0.5" value="${formData.sleepHours}" placeholder="Ex: 7">
                </div>

                <div class="question-item">
                    <label class="question-label">Qualit√© du sommeil</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sq_good" name="sleepQuality" value="good" ${formData.sleepQuality === 'good' ? 'checked' : ''}>
                            <label for="sq_good">Bonne</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sq_average" name="sleepQuality" value="average" ${formData.sleepQuality === 'average' ? 'checked' : ''}>
                            <label for="sq_average">Moyenne</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sq_poor" name="sleepQuality" value="poor" ${formData.sleepQuality === 'poor' ? 'checked' : ''}>
                            <label for="sq_poor">Mauvaise</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Niveau de stress</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="stress_low" name="stressLevel" value="low" ${formData.stressLevel === 'low' ? 'checked' : ''}>
                            <label for="stress_low">Faible</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="stress_moderate" name="stressLevel" value="moderate" ${formData.stressLevel === 'moderate' ? 'checked' : ''}>
                            <label for="stress_moderate">Mod√©r√©</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="stress_high" name="stressLevel" value="high" ${formData.stressLevel === 'high' ? 'checked' : ''}>
                            <label for="stress_high">√âlev√©</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Connexions sociales</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sc_many" name="socialConnections" value="many" ${formData.socialConnections === 'many' ? 'checked' : ''}>
                            <label for="sc_many">Nombreuses</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sc_some" name="socialConnections" value="some" ${formData.socialConnections === 'some' ? 'checked' : ''}>
                            <label for="sc_some">Quelques-unes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sc_few" name="socialConnections" value="few" ${formData.socialConnections === 'few' ? 'checked' : ''}>
                            <label for="sc_few">Peu</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">M√©ditation / Relaxation r√©guli√®re</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="med_yes" name="meditation" value="yes" ${formData.meditation === 'yes' ? 'checked' : ''}>
                            <label for="med_yes">Oui</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="med_no" name="meditation" value="no" ${formData.meditation === 'no' ? 'checked' : ''}>
                            <label for="med_no">Non</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Satisfaction de vie</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="ls_high" name="lifeSatisfaction" value="high" ${formData.lifeSatisfaction === 'high' ? 'checked' : ''}>
                            <label for="ls_high">√âlev√©e</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ls_medium" name="lifeSatisfaction" value="medium" ${formData.lifeSatisfaction === 'medium' ? 'checked' : ''}>
                            <label for="ls_medium">Moyenne</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ls_low" name="lifeSatisfaction" value="low" ${formData.lifeSatisfaction === 'low' ? 'checked' : ''}>
                            <label for="ls_low">Faible</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Portions de l√©gumes par jour</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="veg_0_1" name="vegetableServings" value="0-1" ${formData.vegetableServings === '0-1' ? 'checked' : ''}>
                            <label for="veg_0_1">0-1</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="veg_2_3" name="vegetableServings" value="2-3" ${formData.vegetableServings === '2-3' ? 'checked' : ''}>
                            <label for="veg_2_3">2-3</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="veg_4_5" name="vegetableServings" value="4-5" ${formData.vegetableServings === '4-5' ? 'checked' : ''}>
                            <label for="veg_4_5">4-5</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="veg_6plus" name="vegetableServings" value="6+" ${formData.vegetableServings === '6+' ? 'checked' : ''}>
                            <label for="veg_6plus">6+</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Consommation d'aliments transform√©s</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="pf_rarely" name="processedFood" value="rarely" ${formData.processedFood === 'rarely' ? 'checked' : ''}>
                            <label for="pf_rarely">Rarement</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pf_sometimes" name="processedFood" value="sometimes" ${formData.processedFood === 'sometimes' ? 'checked' : ''}>
                            <label for="pf_sometimes">Parfois</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pf_often" name="processedFood" value="often" ${formData.processedFood === 'often' ? 'checked' : ''}>
                            <label for="pf_often">Souvent</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Consommation d'eau</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="water_insufficient" name="waterIntake" value="insufficient" ${formData.waterIntake === 'insufficient' ? 'checked' : ''}>
                            <label for="water_insufficient">Insuffisante</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="water_adequate" name="waterIntake" value="adequate" ${formData.waterIntake === 'adequate' ? 'checked' : ''}>
                            <label for="water_adequate">Ad√©quate</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="water_excellent" name="waterIntake" value="excellent" ${formData.waterIntake === 'excellent' ? 'checked' : ''}>
                            <label for="water_excellent">Excellente</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Temps d'√©cran par jour (heures)</label>
                    <input type="number" id="screenTime" min="0" max="24" step="0.5" value="${formData.screenTime}" placeholder="Ex: 4">
                </div>

                <div class="flex justify-between gap-4 mt-8">
                    <button onclick="previousStep()" class="btn btn-secondary">Pr√©c√©dent</button>
                    <button onclick="calculateResults()" class="btn btn-primary">Calculer mon √¢ge biologique</button>
                </div>
            `;
        }

        function renderStep4(bioAge, recommendations) {
            const age = parseInt(formData.age);
            const diff = bioAge - age;
            const isYounger = diff < 0;
            const gradientClass = isYounger ? 'gradient-success' : (diff > 5 ? 'gradient-danger' : 'gradient-warning');

            const shareText = encodeURIComponent(`Mon √¢ge biologique est de ${bioAge} ans ! D√©couvrez le v√¥tre sur BioAge`);
            const shareUrl = encodeURIComponent('https://www.agebiologique.eu/');

            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Vos R√©sultats
                </h2>

                <!-- Results Card -->
                <div class="${gradientClass} text-white rounded-2xl p-8 mb-8 text-center">
                    <h3 class="text-xl mb-4">Votre √Çge Biologique</h3>
                    <div class="text-6xl font-bold mb-4">${bioAge} ans</div>
                    <div class="text-lg">
                        ${isYounger
                            ? `F√©licitations ! Vous √™tes ${Math.abs(diff)} an(s) plus jeune que votre √¢ge chronologique.`
                            : diff === 0
                                ? 'Votre √¢ge biologique correspond √† votre √¢ge chronologique.'
                                : `Votre √¢ge biologique est ${diff} an(s) sup√©rieur √† votre √¢ge chronologique.`
                        }
                    </div>
                    <div class="mt-4 text-sm opacity-90">
                        √Çge chronologique: ${age} ans
                    </div>
                </div>

                <!-- Medical Disclaimer -->
                <div class="disclaimer-banner">
                    <div class="flex items-start gap-3">
                        <svg class="w-6 h-6 text-amber-600 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                        </svg>
                        <div>
                            <h3 class="font-bold text-amber-900 mb-1">Rappel Important</h3>
                            <p class="text-sm text-amber-800">
                                Ces r√©sultats sont une estimation bas√©e sur votre style de vie.
                                <strong>Ce n'est PAS un diagnostic m√©dical.</strong>
                                Consultez toujours un professionnel de sant√© pour des conseils personnalis√©s.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Recommendations -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-4">Recommandations Personnalis√©es</h3>
                    <div class="space-y-3">
                        ${recommendations.map(rec => `
                            <div class="flex items-start gap-3 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <svg class="w-6 h-6 text-blue-500 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                                <p class="text-gray-800">${rec}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Social Share -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-4">Partager vos r√©sultats</h3>
                    <div class="flex flex-wrap gap-3">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=${shareUrl}&quote=${shareText}"
                           target="_blank"
                           class="share-btn share-facebook">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                            Facebook
                        </a>
                        <a href="https://twitter.com/intent/tweet?text=${shareText}&url=${shareUrl}"
                           target="_blank"
                           class="share-btn share-twitter">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                            Twitter
                        </a>
                        <a href="https://wa.me/?text=${shareText}%20${shareUrl}"
                           target="_blank"
                           class="share-btn share-whatsapp">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                            </svg>
                            WhatsApp
                        </a>
                    </div>
                </div>

                <div class="flex justify-center">
                    <button onclick="resetQuiz()" class="btn btn-primary">Recommencer le test</button>
                </div>
            `;
        }

        // Save form data for current step
        function saveStepData() {
            if (currentStepNumber === 1) {
                formData.age = document.getElementById('age')?.value || '';
                formData.weight = document.getElementById('weight')?.value || '';
                formData.height = document.getElementById('height')?.value || '';
                formData.gender = document.querySelector('input[name="gender"]:checked')?.value || '';
                formData.activityLevel = document.getElementById('activityLevel')?.value || '';
            } else if (currentStepNumber === 2) {
                formData.bloodPressure = document.querySelector('input[name="bloodPressure"]:checked')?.value || '';
                formData.cholesterol = document.querySelector('input[name="cholesterol"]:checked')?.value || '';
                formData.bloodSugar = document.querySelector('input[name="bloodSugar"]:checked')?.value || '';
                formData.familyHeartDisease = document.querySelector('input[name="familyHeartDisease"]:checked')?.value || '';
                formData.chronicInflammation = document.querySelector('input[name="chronicInflammation"]:checked')?.value || '';
                formData.digestiveProblems = document.querySelector('input[name="digestiveProblems"]:checked')?.value || '';
                formData.foodAllergies = document.querySelector('input[name="foodAllergies"]:checked')?.value || '';
                formData.jointPain = document.querySelector('input[name="jointPain"]:checked')?.value || '';
                formData.balanceIssues = document.querySelector('input[name="balanceIssues"]:checked')?.value || '';
                formData.flexibility = document.querySelector('input[name="flexibility"]:checked')?.value || '';
                formData.airQuality = document.querySelector('input[name="airQuality"]:checked')?.value || '';
                formData.sunExposure = document.querySelector('input[name="sunExposure"]:checked')?.value || '';
                formData.memoryIssues = document.querySelector('input[name="memoryIssues"]:checked')?.value || '';
                formData.concentrationProblems = document.querySelector('input[name="concentrationProblems"]:checked')?.value || '';
                formData.reactionTime = document.querySelector('input[name="reactionTime"]:checked')?.value || '';
            } else if (currentStepNumber === 3) {
                formData.smoking = document.querySelector('input[name="smoking"]:checked')?.value || '';
                formData.alcohol = document.querySelector('input[name="alcohol"]:checked')?.value || '';
                formData.sleepHours = document.getElementById('sleepHours')?.value || '';
                formData.sleepQuality = document.querySelector('input[name="sleepQuality"]:checked')?.value || '';
                formData.stressLevel = document.querySelector('input[name="stressLevel"]:checked')?.value || '';
                formData.socialConnections = document.querySelector('input[name="socialConnections"]:checked')?.value || '';
                formData.meditation = document.querySelector('input[name="meditation"]:checked')?.value || '';
                formData.lifeSatisfaction = document.querySelector('input[name="lifeSatisfaction"]:checked')?.value || '';
                formData.vegetableServings = document.querySelector('input[name="vegetableServings"]:checked')?.value || '';
                formData.processedFood = document.querySelector('input[name="processedFood"]:checked')?.value || '';
                formData.waterIntake = document.querySelector('input[name="waterIntake"]:checked')?.value || '';
                formData.screenTime = document.getElementById('screenTime')?.value || '';
            }
        }

        // Validate current step
        function validateStep() {
            if (currentStepNumber === 1) {
                if (!formData.age || !formData.weight || !formData.height || !formData.gender || !formData.activityLevel) {
                    alert('Veuillez remplir tous les champs obligatoires.');
                    return false;
                }
                const age = parseInt(formData.age);
                if (age < 18 || age > 120) {
                    alert('L\'√¢ge doit √™tre entre 18 et 120 ans.');
                    return false;
                }
            } else if (currentStepNumber === 2) {
                const requiredFields = [
                    'bloodPressure', 'cholesterol', 'bloodSugar', 'familyHeartDisease',
                    'chronicInflammation', 'digestiveProblems', 'foodAllergies', 'jointPain',
                    'balanceIssues', 'flexibility', 'airQuality', 'sunExposure',
                    'memoryIssues', 'concentrationProblems', 'reactionTime'
                ];
                for (const field of requiredFields) {
                    if (!formData[field]) {
                        alert('Veuillez r√©pondre √† toutes les questions.');
                        return false;
                    }
                }
            } else if (currentStepNumber === 3) {
                const requiredFields = [
                    'smoking', 'alcohol', 'sleepHours', 'sleepQuality', 'stressLevel',
                    'socialConnections', 'meditation', 'lifeSatisfaction', 'vegetableServings',
                    'processedFood', 'waterIntake', 'screenTime'
                ];
                for (const field of requiredFields) {
                    if (!formData[field]) {
                        alert('Veuillez r√©pondre √† toutes les questions.');
                        return false;
                    }
                }
            }
            return true;
        }

        // Navigation functions
        function nextStep() {
            saveStepData();
            if (!validateStep()) {
                return;
            }
            currentStepNumber++;
            renderCurrentStep();
            updateProgress();
            window.scrollTo(0, 0);
        }

        function previousStep() {
            saveStepData();
            currentStepNumber--;
            renderCurrentStep();
            updateProgress();
            window.scrollTo(0, 0);
        }

        function resetQuiz() {
            // Reset all form data
            Object.keys(formData).forEach(key => formData[key] = '');
            currentStepNumber = 1;
            renderCurrentStep();
            updateProgress();
            window.scrollTo(0, 0);
        }

        // Calculate biological age
        function calculateResults() {
            saveStepData();
            if (!validateStep()) {
                return;
            }

            let bioAge = parseInt(formData.age);
            const recommendations = [];

            // BMI calculation and adjustment
            const weight = parseFloat(formData.weight);
            const heightM = parseFloat(formData.height) / 100;
            const bmi = weight / (heightM * heightM);

            if (bmi < 18.5) {
                bioAge += 1.5;
                recommendations.push('Votre IMC est faible. Consultez un nutritionniste pour atteindre un poids sant√©.');
            } else if (bmi >= 25 && bmi < 30) {
                bioAge += 2;
                recommendations.push('Votre IMC indique un surpoids. Visez une perte de poids progressive avec alimentation √©quilibr√©e et exercice.');
            } else if (bmi >= 30) {
                bioAge += 4;
                recommendations.push('Votre IMC indique une ob√©sit√©. Une perte de poids est fortement recommand√©e pour votre sant√©.');
            }

            // Activity level
            switch(formData.activityLevel) {
                case 'sedentary':
                    bioAge += 3;
                    recommendations.push('Augmentez votre activit√© physique. Commencez par 30 minutes de marche quotidienne.');
                    break;
                case 'light':
                    bioAge += 1;
                    recommendations.push('Augmentez la fr√©quence de vos exercices √† 4-5 fois par semaine.');
                    break;
                case 'moderate':
                    bioAge -= 1;
                    break;
                case 'intense':
                    bioAge -= 2;
                    break;
                case 'very_intense':
                    bioAge -= 3;
                    break;
            }

            // Blood pressure
            if (formData.bloodPressure === 'elevated') {
                bioAge += 1.5;
                recommendations.push('Surveillez votre tension art√©rielle. R√©duisez le sel et consultez un m√©decin.');
            } else if (formData.bloodPressure === 'high') {
                bioAge += 3;
                recommendations.push('Hypertension d√©tect√©e. Consultation m√©dicale urgente recommand√©e.');
            }

            // Cholesterol
            if (formData.cholesterol === 'borderline') {
                bioAge += 1;
                recommendations.push('Cholest√©rol limite. Adoptez une alimentation pauvre en graisses satur√©es.');
            } else if (formData.cholesterol === 'high') {
                bioAge += 2.5;
                recommendations.push('Cholest√©rol √©lev√©. Consultez un m√©decin et modifiez votre alimentation.');
            }

            // Blood sugar
            if (formData.bloodSugar === 'prediabetes') {
                bioAge += 2;
                recommendations.push('Pr√©-diab√®te d√©tect√©. R√©duisez les sucres et augmentez l\'activit√© physique.');
            } else if (formData.bloodSugar === 'diabetes') {
                bioAge += 4;
                recommendations.push('Diab√®te identifi√©. Suivi m√©dical r√©gulier indispensable.');
            }

            // Family history
            if (formData.familyHeartDisease === 'yes') {
                bioAge += 1.5;
                recommendations.push('Ant√©c√©dents familiaux cardiaques. Surveillez r√©guli√®rement votre sant√© cardiovasculaire.');
            }

            // Chronic inflammation
            if (formData.chronicInflammation === 'yes') {
                bioAge += 2;
                recommendations.push('Inflammation chronique. Adoptez une alimentation anti-inflammatoire (omega-3, l√©gumes).');
            }

            // Digestive problems
            if (formData.digestiveProblems === 'yes') {
                bioAge += 1;
                recommendations.push('Probl√®mes digestifs. Consultez un gastro-ent√©rologue et ajustez votre alimentation.');
            }

            // Food allergies
            if (formData.foodAllergies === 'yes') {
                bioAge += 0.5;
            }

            // Joint pain
            if (formData.jointPain === 'yes') {
                bioAge += 1.5;
                recommendations.push('Douleurs articulaires. Pratiquez des exercices √† faible impact (natation, yoga).');
            }

            // Balance issues
            if (formData.balanceIssues === 'yes') {
                bioAge += 2;
                recommendations.push('Probl√®mes d\'√©quilibre. Consultez un m√©decin et pratiquez des exercices d\'√©quilibre.');
            }

            // Flexibility
            if (formData.flexibility === 'average') {
                bioAge += 0.5;
                recommendations.push('Travaillez votre flexibilit√© avec des √©tirements quotidiens.');
            } else if (formData.flexibility === 'poor') {
                bioAge += 1.5;
                recommendations.push('Flexibilit√© faible. Int√©grez le yoga ou les √©tirements √† votre routine.');
            }

            // Air quality
            if (formData.airQuality === 'moderate') {
                bioAge += 0.5;
            } else if (formData.airQuality === 'poor') {
                bioAge += 1.5;
                recommendations.push('Exposition √† une mauvaise qualit√© d\'air. Utilisez un purificateur d\'air et √©vitez les zones pollu√©es.');
            }

            // Sun exposure
            if (formData.sunExposure === 'low') {
                bioAge += 1;
                recommendations.push('Exposition au soleil faible. Augmentez prudemment votre exposition (vitamine D).');
            } else if (formData.sunExposure === 'high') {
                bioAge += 1.5;
                recommendations.push('Exposition excessive au soleil. Prot√©gez votre peau avec de la cr√®me solaire.');
            }

            // Memory issues
            if (formData.memoryIssues === 'yes') {
                bioAge += 2;
                recommendations.push('Probl√®mes de m√©moire. Faites des exercices c√©r√©braux et consultez si cela persiste.');
            }

            // Concentration problems
            if (formData.concentrationProblems === 'yes') {
                bioAge += 1;
                recommendations.push('Difficult√©s de concentration. Am√©liorez votre sommeil et r√©duisez les distractions.');
            }

            // Reaction time
            if (formData.reactionTime === 'average') {
                bioAge += 0.5;
            } else if (formData.reactionTime === 'slow') {
                bioAge += 1.5;
                recommendations.push('Temps de r√©action lent. Pratiquez des activit√©s stimulantes (sports, jeux de r√©flexes).');
            }

            // Smoking
            if (formData.smoking === 'former') {
                bioAge += 1;
                recommendations.push('Ex-fumeur. Continuez votre bonne d√©cision. Vos poumons continuent √† se r√©g√©n√©rer.');
            } else if (formData.smoking === 'current') {
                bioAge += 5;
                recommendations.push('Tabagisme actif. Arr√™ter de fumer est la meilleure chose pour votre sant√©. Consultez un tabacologue.');
            }

            // Alcohol
            if (formData.alcohol === 'moderate') {
                bioAge += 0.5;
            } else if (formData.alcohol === 'heavy') {
                bioAge += 3;
                recommendations.push('Consommation d\'alcool excessive. R√©duisez progressivement et consultez si n√©cessaire.');
            }

            // Sleep hours
            const sleepHours = parseFloat(formData.sleepHours);
            if (sleepHours < 6) {
                bioAge += 3;
                recommendations.push('Sommeil insuffisant. Visez 7-9 heures par nuit pour une sant√© optimale.');
            } else if (sleepHours < 7) {
                bioAge += 1.5;
                recommendations.push('Augmentez l√©g√®rement votre temps de sommeil √† 7-8 heures.');
            } else if (sleepHours > 9) {
                bioAge += 1;
                recommendations.push('Sommeil excessif. Consultez un m√©decin si vous dormez r√©guli√®rement plus de 9h.');
            }

            // Sleep quality
            if (formData.sleepQuality === 'average') {
                bioAge += 1;
                recommendations.push('Am√©liorez votre qualit√© de sommeil: routine r√©guli√®re, chambre sombre et fra√Æche.');
            } else if (formData.sleepQuality === 'poor') {
                bioAge += 2.5;
                recommendations.push('Qualit√© de sommeil mauvaise. Consultez un sp√©cialiste du sommeil si cela persiste.');
            }

            // Stress level
            if (formData.stressLevel === 'moderate') {
                bioAge += 1;
                recommendations.push('Stress mod√©r√©. Pratiquez la m√©ditation, le yoga ou la respiration profonde.');
            } else if (formData.stressLevel === 'high') {
                bioAge += 3;
                recommendations.push('Stress √©lev√©. Consultez un professionnel et apprenez des techniques de gestion du stress.');
            }

            // Social connections
            if (formData.socialConnections === 'some') {
                bioAge += 0.5;
                recommendations.push('D√©veloppez vos connexions sociales. Rejoignez des clubs ou activit√©s de groupe.');
            } else if (formData.socialConnections === 'few') {
                bioAge += 1.5;
                recommendations.push('Isolement social d√©tect√©. Les connexions sociales sont essentielles pour la sant√© mentale.');
            }

            // Meditation
            if (formData.meditation === 'yes') {
                bioAge -= 1;
            } else {
                recommendations.push('Essayez la m√©ditation ou des exercices de relaxation quotidiens.');
            }

            // Life satisfaction
            if (formData.lifeSatisfaction === 'medium') {
                bioAge += 0.5;
            } else if (formData.lifeSatisfaction === 'low') {
                bioAge += 2;
                recommendations.push('Satisfaction de vie faible. Consultez un psychologue ou coach de vie.');
            }

            // Vegetable servings
            if (formData.vegetableServings === '0-1') {
                bioAge += 2;
                recommendations.push('Consommation de l√©gumes insuffisante. Visez au moins 5 portions par jour.');
            } else if (formData.vegetableServings === '2-3') {
                bioAge += 0.5;
                recommendations.push('Augmentez votre consommation de l√©gumes √† 5 portions par jour.');
            } else if (formData.vegetableServings === '6+') {
                bioAge -= 0.5;
            }

            // Processed food
            if (formData.processedFood === 'sometimes') {
                bioAge += 1;
                recommendations.push('R√©duisez les aliments transform√©s. Privil√©giez les aliments frais et non transform√©s.');
            } else if (formData.processedFood === 'often') {
                bioAge += 2.5;
                recommendations.push('Consommation excessive d\'aliments transform√©s. Cuisinez davantage √† la maison.');
            }

            // Water intake
            if (formData.waterIntake === 'insufficient') {
                bioAge += 1.5;
                recommendations.push('Hydratation insuffisante. Buvez au moins 1.5-2L d\'eau par jour.');
            } else if (formData.waterIntake === 'adequate') {
                bioAge += 0;
            } else if (formData.waterIntake === 'excellent') {
                bioAge -= 0.5;
            }

            // Screen time
            const screenTime = parseFloat(formData.screenTime);
            if (screenTime > 6) {
                bioAge += 2;
                recommendations.push('Temps d\'√©cran excessif. Limitez √† 4 heures maximum et faites des pauses r√©guli√®res.');
            } else if (screenTime > 4) {
                bioAge += 1;
                recommendations.push('R√©duisez votre temps d\'√©cran et faites des pauses toutes les heures.');
            }

            // Round biological age
            bioAge = Math.round(bioAge);

            // Ensure we have at least a few recommendations
            if (recommendations.length === 0) {
                recommendations.push('Excellent ! Continuez vos bonnes habitudes de vie.');
                recommendations.push('Maintenez une activit√© physique r√©guli√®re.');
                recommendations.push('Conservez une alimentation √©quilibr√©e et vari√©e.');
            } else if (recommendations.length > 8) {
                // Keep only the most important ones
                recommendations.splice(8);
            }

            currentStepNumber = 4;
            document.getElementById('wizardContent').innerHTML = renderStep4(bioAge, recommendations);
            updateProgress();
            window.scrollTo(0, 0);
        }

        // Render current step
        function renderCurrentStep() {
            const container = document.getElementById('wizardContent');
            if (currentStepNumber === 1) {
                container.innerHTML = renderStep1();
            } else if (currentStepNumber === 2) {
                container.innerHTML = renderStep2();
            } else if (currentStepNumber === 3) {
                container.innerHTML = renderStep3();
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkCookieConsent();
            renderCurrentStep();
            updateProgress();
        });
    </script>
</body>
</html>
