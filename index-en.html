<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) - Conditional loading based on consent -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}

  // Only load Analytics if user has consented
  if (localStorage.getItem('cookieConsent') === 'accepted') {
    (function() {
      var ga = document.createElement('script');
      ga.async = true;
      ga.src = 'https://www.googletagmanager.com/gtag/js?id=G-DMCMNW4KLZ';
      document.head.appendChild(ga);
      gtag('js', new Date());
      gtag('config', 'G-DMCMNW4KLZ', { 'anonymize_ip': true });
    })();
  }
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>BioAge - Calculate Your Biological Age Free | Free Health Test</title>
    <meta name="description" content="Discover your biological age based on your lifestyle. Free and instant test with personalized health recommendations. Scientifically validated calculator.">
    <meta name="keywords" content="biological age, health test, age calculator, health wellness, free test, longevity, life expectancy">
    <meta name="author" content="BioAge">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://www.agebiologique.eu/index-en.html">

    <!-- Open Graph Meta Tags (Facebook, LinkedIn) -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="BioAge - Calculate Your Biological Age Free">
    <meta property="og:description" content="Discover your biological age based on your lifestyle. Free and instant test with personalized health recommendations.">
    <meta property="og:url" content="https://www.agebiologique.eu/index-en.html">
    <meta property="og:site_name" content="BioAge">
    <meta property="og:image" content="https://www.agebiologique.eu/images/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="BioAge biological age calculator">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BioAge - Calculate Your Biological Age Free">
    <meta name="twitter:description" content="Discover your biological age based on your lifestyle. Free and instant test.">
    <meta name="twitter:image" content="https://www.agebiologique.eu/images/twitter-card.jpg">
    <meta name="twitter:image:alt" content="BioAge biological age calculator">

    <!-- Additional SEO Meta Tags -->
    <meta name="language" content="English">
    <meta name="geo.region" content="US">
    <meta name="geo.placename" content="United States">
    <meta name="theme-color" content="#3B82F6">

    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">

    <!-- Schema.org Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "BioAge - Biological Age Calculator",
      "alternateName": "BioAge Calculator",
      "url": "https://www.agebiologique.eu/",
      "description": "Free biological age calculator based on your lifestyle. Get personalized recommendations to improve your health and longevity.",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1247",
        "bestRating": "5",
        "worstRating": "1"
      },
      "author": {
        "@type": "Organization",
        "name": "BioAge",
        "url": "https://www.agebiologique.eu/"
      },
      "publisher": {
        "@type": "Organization",
        "name": "BioAge",
        "url": "https://www.agebiologique.eu/"
      },
      "inLanguage": "en-US",
      "featureList": [
        "Biological age calculation",
        "Personalized health recommendations",
        "Lifestyle analysis",
        "Social media sharing",
        "Instant results",
        "100% free"
      ],
      "screenshot": "https://www.agebiologique.eu/images/screenshot.jpg"
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://www.agebiologique.eu/"
      }]
    }
    </script>

    <!-- FAQPage Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "What is biological age?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Biological age is an estimate of your real age based on your health status and lifestyle, as opposed to your chronological age (number of years since your birth)."
        }
      }, {
        "@type": "Question",
        "name": "How do I calculate my biological age?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Our calculator analyzes several factors: your weight, height, physical activity level, sleep quality, stress level, diet, smoking and alcohol consumption to estimate your biological age."
        }
      }, {
        "@type": "Question",
        "name": "Is the test free?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, the BioAge biological age calculator is 100% free and provides instant results with personalized recommendations."
        }
      }]
    }
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        /* Cookie Consent Banner Styles */
        #cookieConsent {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
            z-index: 9999;
            display: none;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        #cookieConsent.show {
            display: block;
        }

        .cookie-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .cookie-text {
            flex: 1;
            min-width: 300px;
        }

        .cookie-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .cookie-btn {
            padding: 10px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 14px;
        }

        .cookie-btn-accept {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .cookie-btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .cookie-btn-decline {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .cookie-btn-decline:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Gradient backgrounds */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .gradient-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .gradient-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        /* Progress bar animation */
        .progress-bar {
            transition: width 0.5s ease;
        }

        /* Form input styles */
        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Radio button styles */
        .radio-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .radio-option {
            flex: 1;
            min-width: 120px;
        }

        .radio-option input[type="radio"] {
            display: none;
        }

        .radio-option label {
            display: block;
            padding: 12px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .radio-option input[type="radio"]:checked + label {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .radio-option label:hover {
            border-color: #667eea;
        }

        /* Button styles */
        .btn {
            padding: 12px 32px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 16px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #f3f4f6;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Medical disclaimer banner */
        .disclaimer-banner {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #f59e0b;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        /* Fade in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* Question spacing */
        .question-item {
            margin-bottom: 24px;
        }

        .question-label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
            color: #1f2937;
        }

        /* Share buttons */
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: 8px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .share-facebook {
            background: #1877f2;
        }

        .share-twitter {
            background: #1da1f2;
        }

        .share-whatsapp {
            background: #25d366;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Cookie Consent Banner -->
    <div id="cookieConsent">
        <div class="cookie-content">
            <div class="cookie-text">
                <h3 style="margin: 0 0 8px 0; font-size: 18px; font-weight: 600;">We use cookies</h3>
                <p style="margin: 0; font-size: 14px; opacity: 0.9;">
                    We use cookies to improve your experience and analyze site traffic.
                    By accepting, you consent to the use of Google Analytics.
                </p>
            </div>
            <div class="cookie-buttons">
                <button onclick="acceptCookies()" class="cookie-btn cookie-btn-accept">Accept</button>
                <button onclick="declineCookies()" class="cookie-btn cookie-btn-decline">Decline</button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                <div class="text-3xl font-bold gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    üß¨ BioAge
                </div>

                <div class="flex items-center space-x-6">
                    <!-- Navigation Buttons -->
                    <div class="hidden md:flex space-x-3">
                        <a href="#nutrition" class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-105">
                            ü•ó Nutrition
                        </a>
                        <a href="#exercise" class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-105">
                            üèÉ Exercise
                        </a>
                        <a href="#stress" class="px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-105">
                            üßò Stress
                        </a>
                        <a href="#sleep" class="px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-105">
                            üò¥ Sleep
                        </a>
                        <a href="#faq" class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-105">
                            ‚ùì FAQ
                        </a>
                    </div>

                    <!-- Language Selector -->
                    <div class="flex space-x-2 border-l pl-4 border-gray-300">
                        <a href="index.html" class="text-2xl hover:scale-125 transition transform opacity-50" title="Fran√ßais">üá´üá∑</a>
                        <a href="index-en.html" class="text-2xl hover:scale-125 transition transform" title="English">üá¨üáß</a>
                        <a href="index-de.html" class="text-2xl hover:scale-125 transition transform opacity-50" title="Deutsch">üá©üá™</a>
                        <a href="index-es.html" class="text-2xl hover:scale-125 transition transform opacity-50" title="Espa√±ol">üá™üá∏</a>
                        <a href="index-it.html" class="text-2xl hover:scale-125 transition transform opacity-50" title="Italiano">üáÆüáπ</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
        <!-- Medical Disclaimer Banner -->
        <div class="disclaimer-banner fade-in">
            <div class="flex items-start gap-3">
                <svg class="w-6 h-6 text-amber-600 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>
                <div>
                    <h3 class="font-bold text-amber-900 mb-1">Important Medical Disclaimer</h3>
                    <p class="text-sm text-amber-800">
                        This calculator provides an estimate based on lifestyle factors.
                        <strong>This is NOT a medical diagnosis</strong> and does not replace the advice of a healthcare professional.
                        Always consult a doctor for personalized medical advice.
                    </p>
                </div>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div id="progressContainer" class="mb-8 fade-in">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-semibold text-gray-600">Step <span id="currentStep">1</span> of 4</span>
                <span class="text-sm font-semibold text-purple-600"><span id="progressPercent">0</span>%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="progressBar" class="progress-bar h-full gradient-bg" style="width: 0%"></div>
            </div>
        </div>

        <!-- Wizard Container -->
        <div class="bg-white rounded-2xl shadow-xl p-6 sm:p-8 fade-in">
            <div id="wizardContent"></div>
        </div>
    </main>

    <!-- Content Sections -->

    <!-- Nutrition Section -->
    <section id="nutrition" class="py-16 px-4 bg-gradient-to-br from-green-50 to-blue-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">ü•ó Nutrition and Biological Age</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    A balanced diet is one of the most important factors for slowing biological aging.
                    Good food choices can reduce your biological age by several years.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚úÖ Foods that rejuvenate</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Green vegetables:</strong> Spinach, broccoli, kale - rich in antioxidants</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Berries:</strong> Blueberries, raspberries - protect cells from aging</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Fatty fish:</strong> Salmon, sardines - rich in anti-inflammatory omega-3</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Nuts and seeds:</strong> Almonds, walnuts, chia seeds - excellent for the brain</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Extra virgin olive oil:</strong> Reduces inflammation and protects the heart</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚ùå Foods that age you</h3>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Refined sugars:</strong> Accelerate cellular aging (glycation)</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Ultra-processed foods:</strong> Contain pro-inflammatory additives</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Processed meats:</strong> Deli meats, sausages - increase cardiovascular risks</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Excessive alcohol:</strong> Accelerates liver and brain aging</span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Exercise Section -->
    <section id="exercise" class="py-16 px-4 bg-gradient-to-br from-blue-50 to-purple-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">üèÉ Exercise and Physical Activity</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    Regular exercise is one of the best ways to reduce your biological age.
                    Studies show that active people can have a biological age 10 years younger than their chronological age.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üí™ Proven benefits</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Cardiovascular protection:</strong> Strengthens the heart and improves circulation</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Muscle preservation:</strong> Combats sarcopenia (age-related muscle loss)</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Mental health:</strong> Reduces stress, anxiety and improves mood</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Bone density:</strong> Prevents osteoporosis and fractures</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-blue-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Cellular longevity:</strong> Protects telomeres (markers of aging)</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üìã WHO recommendations</h3>
                <div class="bg-blue-50 rounded-xl p-6">
                    <p class="mb-3"><strong>Adults (18-64 years):</strong></p>
                    <ul class="space-y-2 ml-4">
                        <li>‚Ä¢ <strong>150 minutes</strong> of moderate activity per week (brisk walking, cycling)</li>
                        <li>‚Ä¢ OR <strong>75 minutes</strong> of intense activity (running, swimming)</li>
                        <li>‚Ä¢ <strong>2 sessions</strong> of muscle strengthening per week</li>
                        <li>‚Ä¢ Limit prolonged periods of sitting</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Stress Section -->
    <section id="stress" class="py-16 px-4 bg-gradient-to-br from-purple-50 to-pink-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">üßò Stress Management</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    Chronic stress is one of the factors that most accelerates biological aging.
                    It increases inflammation, weakens the immune system and damages DNA.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚ö†Ô∏è Impact of stress on biological age</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Elevated cortisol:</strong> Stress hormone that accelerates aging</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Chronic inflammation:</strong> Increases age-related diseases</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Shortened telomeres:</strong> Biological markers of aging</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-orange-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Weakened immune system:</strong> More vulnerable to infections</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">‚ú® Effective anti-stress techniques</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üßò‚Äç‚ôÄÔ∏è Meditation & Mindfulness</h4>
                        <p class="text-sm text-gray-700">10-20 minutes per day can reduce cortisol by 25% and improve mental health.</p>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üå¨Ô∏è Deep breathing</h4>
                        <p class="text-sm text-gray-700">Heart coherence: 5 minutes, 3 times a day to regulate the nervous system.</p>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üå≥ Time in nature</h4>
                        <p class="text-sm text-gray-700">20 minutes outdoors significantly reduces stress hormones.</p>
                    </div>
                    <div class="bg-purple-50 rounded-xl p-6">
                        <h4 class="font-bold text-lg mb-3">üë• Social connections</h4>
                        <p class="text-sm text-gray-700">Positive relationships are one of the best protectors against chronic stress.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sleep Section -->
    <section id="sleep" class="py-16 px-4 bg-gradient-to-br from-indigo-50 to-blue-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">üò¥ Restorative Sleep</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <p class="text-lg text-gray-700 mb-6">
                    Sleep is when your body repairs and regenerates.
                    Quality sleep can reduce your biological age, while chronic lack dramatically accelerates it.
                </p>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üõèÔ∏è Optimal duration</h3>
                <div class="bg-indigo-50 rounded-xl p-6 mb-8">
                    <p class="text-center text-3xl font-bold text-indigo-600 mb-2">7-9 hours</p>
                    <p class="text-center text-gray-700">per night for adults (18-64 years)</p>
                    <p class="text-sm text-gray-600 text-center mt-4">
                        Less than 6 hours or more than 10 hours are associated with accelerated aging
                    </p>
                </div>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üí§ Benefits of good sleep</h3>
                <ul class="space-y-3 mb-8">
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Cellular repair:</strong> Growth hormone production, tissue regeneration</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Memory consolidation:</strong> The brain sorts and stores information</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Strengthened immune system:</strong> Production of protective cytokines</span>
                    </li>
                    <li class="flex items-start">
                        <span class="text-indigo-600 mr-3 text-xl">‚Ä¢</span>
                        <span><strong>Metabolic regulation:</strong> Control of appetite and weight</span>
                    </li>
                </ul>

                <h3 class="text-2xl font-bold text-gray-800 mb-4">üåô Tips for better sleep</h3>
                <div class="grid gap-4">
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">üìÖ</span>
                        <div>
                            <strong>Regularity:</strong> Go to bed and wake up at the same times, even on weekends
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">üì±</span>
                        <div>
                            <strong>Screens:</strong> Stop 1-2 hours before bedtime (blue light disrupts melatonin)
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">üå°Ô∏è</span>
                        <div>
                            <strong>Temperature:</strong> Cool bedroom (64-66¬∞F) for optimal sleep
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-indigo-50 rounded-lg">
                        <span class="mr-3 text-2xl">‚òï</span>
                        <div>
                            <strong>Caffeine:</strong> Avoid after 2pm (half-life of 5-6 hours)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-16 px-4 bg-gradient-to-br from-gray-50 to-blue-50">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">‚ùì Frequently Asked Questions</h2>
            <div class="space-y-4">
                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">What is biological age?</summary>
                    <p class="mt-4 text-gray-700">
                        Biological age is an estimate of your real age based on your health status and lifestyle,
                        as opposed to your chronological age (number of years since your birth). Two 40-year-olds
                        can have very different biological ages depending on their lifestyle.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">How does the test calculate my biological age?</summary>
                    <p class="mt-4 text-gray-700">
                        Our calculator analyzes 32 factors including: BMI, physical activity level, sleep quality,
                        stress level, diet, smoking, alcohol consumption, cardiovascular health, digestive health,
                        mobility, environmental exposure and cognitive health. Each factor contributes to adjusting your biological age
                        up or down.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Is the test really free?</summary>
                    <p class="mt-4 text-gray-700">
                        Yes, the BioAge calculator is 100% free, with no registration required and no ads.
                        Our mission is to raise public awareness about the importance of lifestyle on aging.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Is my data protected?</summary>
                    <p class="mt-4 text-gray-700">
                        Yes, absolutely. No personal data is collected or stored on our servers.
                        All calculations are performed locally in your browser. Your answers never leave your device.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">How can I improve my biological age?</summary>
                    <p class="mt-4 text-gray-700">
                        Key strategies include: adopting a Mediterranean diet rich in plants,
                        practicing 150 minutes of physical activity per week, sleeping 7-9 hours per night, managing stress
                        (meditation, heart coherence), maintaining strong social connections, avoiding tobacco and limiting alcohol.
                        Even small changes can have a significant impact.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Does the test replace medical advice?</summary>
                    <p class="mt-4 text-gray-700">
                        <strong>NO.</strong> This calculator is an educational and informational tool only. It does not constitute
                        a medical diagnosis and in no way replaces consultation with a healthcare professional.
                        If you have health concerns, always consult a qualified doctor.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">How often should I retake the test?</summary>
                    <p class="mt-4 text-gray-700">
                        We recommend retaking the test every 3-6 months if you have made significant lifestyle changes.
                        This allows you to track your progress and adjust your habits accordingly.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Can I really get biologically younger?</summary>
                    <p class="mt-4 text-gray-700">
                        Yes! Scientific studies show that it is possible to reduce your biological age through lifestyle changes.
                        A 2021 study demonstrated that an 8-week program including diet, exercise,
                        sleep and stress management reduced participants' biological age by an average of 3.23 years.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">What are telomeres?</summary>
                    <p class="mt-4 text-gray-700">
                        Telomeres are protective structures at the end of our chromosomes, often compared to the plastic tips
                        of shoelaces. They shorten with each cell division. Shorter telomere length
                        is associated with accelerated aging and reduced life expectancy. A healthy lifestyle can
                        slow their shortening.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">What is the link between inflammation and aging?</summary>
                    <p class="mt-4 text-gray-700">
                        Low-grade chronic inflammation, called "inflammaging", is one of the central mechanisms of aging.
                        It contributes to age-related diseases: cardiovascular, Alzheimer's, diabetes, cancer. Reducing inflammation
                        through diet (anti-inflammatory), exercise, sleep and stress management can slow aging.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">Are dietary supplements useful?</summary>
                    <p class="mt-4 text-gray-700">
                        Most nutrients should come from a varied and balanced diet. However, certain
                        supplements may be beneficial depending on your situation: vitamin D (if deficient), omega-3 (if you eat little
                        fish), vitamin B12 (vegetarians/vegans), magnesium. Always consult a healthcare professional before
                        taking supplements.
                    </p>
                </details>

                <details class="bg-white rounded-xl shadow-md p-6 cursor-pointer hover:shadow-lg transition">
                    <summary class="text-xl font-bold text-gray-800 cursor-pointer">How can I contact the BioAge team?</summary>
                    <p class="mt-4 text-gray-700">
                        For any questions, suggestions or feedback, you can contact us by email:
                        <a href="mailto:certifyprofree@gmail.com" class="text-blue-600 hover:underline">certifyprofree@gmail.com</a>.
                        We usually respond within 48 hours.
                    </p>
                </details>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-bold mb-4">BioAge</h3>
                    <p class="text-gray-400 text-sm">
                        Free biological age calculator to better understand your health.
                    </p>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#nutrition" class="text-gray-400 hover:text-white transition">Nutrition</a></li>
                        <li><a href="#exercise" class="text-gray-400 hover:text-white transition">Exercise</a></li>
                        <li><a href="#stress" class="text-gray-400 hover:text-white transition">Stress</a></li>
                        <li><a href="#sleep" class="text-gray-400 hover:text-white transition">Sleep</a></li>
                        <li><a href="#faq" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Contact</h3>
                    <p class="text-gray-400 text-sm">
                        Email: <a href="mailto:certifyprofree@gmail.com" class="text-purple-400 hover:text-purple-300">certifyprofree@gmail.com</a>
                    </p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
                <p>&copy; 2025 BioAge. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global state
        const formData = {
            // Step 1 - Basic Info
            age: '',
            weight: '',
            height: '',
            gender: '',
            activityLevel: '',

            // Step 2 - Advanced Health
            bloodPressure: '',
            cholesterol: '',
            bloodSugar: '',
            familyHeartDisease: '',
            chronicInflammation: '',
            digestiveProblems: '',
            foodAllergies: '',
            jointPain: '',
            balanceIssues: '',
            flexibility: '',
            airQuality: '',
            sunExposure: '',
            memoryIssues: '',
            concentrationProblems: '',
            reactionTime: '',

            // Step 3 - Wellbeing
            smoking: '',
            alcohol: '',
            sleepHours: '',
            sleepQuality: '',
            stressLevel: '',
            socialConnections: '',
            meditation: '',
            lifeSatisfaction: '',
            vegetableServings: '',
            processedFood: '',
            waterIntake: '',
            screenTime: ''
        };

        let currentStepNumber = 1;

        // Cookie consent functions
        function acceptCookies() {
            localStorage.setItem('cookieConsent', 'accepted');
            document.getElementById('cookieConsent').classList.remove('show');

            // Load Google Analytics
            const ga = document.createElement('script');
            ga.async = true;
            ga.src = 'https://www.googletagmanager.com/gtag/js?id=G-DMCMNW4KLZ';
            document.head.appendChild(ga);

            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-DMCMNW4KLZ', { 'anonymize_ip': true });
        }

        function declineCookies() {
            localStorage.setItem('cookieConsent', 'declined');
            document.getElementById('cookieConsent').classList.remove('show');
        }

        // Show cookie banner if no consent recorded
        function checkCookieConsent() {
            const consent = localStorage.getItem('cookieConsent');
            if (!consent) {
                document.getElementById('cookieConsent').classList.add('show');
            }
        }

        // Update progress bar
        function updateProgress() {
            const percent = (currentStepNumber / 4) * 100;
            document.getElementById('currentStep').textContent = currentStepNumber;
            document.getElementById('progressPercent').textContent = Math.round(percent);
            document.getElementById('progressBar').style.width = percent + '%';
        }

        // Render functions for each step
        function renderStep1() {
            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Basic Information
                </h2>

                <div class="question-item">
                    <label class="question-label">Age (years)</label>
                    <input type="number" id="age" min="18" max="120" value="${formData.age}" placeholder="E.g.: 35">
                </div>

                <div class="question-item">
                    <label class="question-label">Weight (kg)</label>
                    <input type="number" id="weight" min="30" max="300" step="0.1" value="${formData.weight}" placeholder="E.g.: 70">
                </div>

                <div class="question-item">
                    <label class="question-label">Height (cm)</label>
                    <input type="number" id="height" min="100" max="250" value="${formData.height}" placeholder="E.g.: 170">
                </div>

                <div class="question-item">
                    <label class="question-label">Gender</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="gender_m" name="gender" value="M" ${formData.gender === 'M' ? 'checked' : ''}>
                            <label for="gender_m">Male</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="gender_f" name="gender" value="F" ${formData.gender === 'F' ? 'checked' : ''}>
                            <label for="gender_f">Female</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Physical activity level</label>
                    <select id="activityLevel" class="w-full">
                        <option value="">Select...</option>
                        <option value="sedentary" ${formData.activityLevel === 'sedentary' ? 'selected' : ''}>Sedentary (little or no exercise)</option>
                        <option value="light" ${formData.activityLevel === 'light' ? 'selected' : ''}>Light (1-3 days/week)</option>
                        <option value="moderate" ${formData.activityLevel === 'moderate' ? 'selected' : ''}>Moderate (3-5 days/week)</option>
                        <option value="intense" ${formData.activityLevel === 'intense' ? 'selected' : ''}>Intense (6-7 days/week)</option>
                        <option value="very_intense" ${formData.activityLevel === 'very_intense' ? 'selected' : ''}>Very intense (2x per day)</option>
                    </select>
                </div>

                <div class="flex justify-end gap-4 mt-8">
                    <button onclick="nextStep()" class="btn btn-primary">Next</button>
                </div>
            `;
        }

        function renderStep2() {
            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Advanced Health
                </h2>

                <div class="question-item">
                    <label class="question-label">Blood pressure</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="bp_normal" name="bloodPressure" value="normal" ${formData.bloodPressure === 'normal' ? 'checked' : ''}>
                            <label for="bp_normal">Normal</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bp_elevated" name="bloodPressure" value="elevated" ${formData.bloodPressure === 'elevated' ? 'checked' : ''}>
                            <label for="bp_elevated">Elevated</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bp_high" name="bloodPressure" value="high" ${formData.bloodPressure === 'high' ? 'checked' : ''}>
                            <label for="bp_high">High</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Cholesterol</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="chol_normal" name="cholesterol" value="normal" ${formData.cholesterol === 'normal' ? 'checked' : ''}>
                            <label for="chol_normal">Normal</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="chol_borderline" name="cholesterol" value="borderline" ${formData.cholesterol === 'borderline' ? 'checked' : ''}>
                            <label for="chol_borderline">Borderline</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="chol_high" name="cholesterol" value="high" ${formData.cholesterol === 'high' ? 'checked' : ''}>
                            <label for="chol_high">High</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Blood sugar</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="bs_normal" name="bloodSugar" value="normal" ${formData.bloodSugar === 'normal' ? 'checked' : ''}>
                            <label for="bs_normal">Normal</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bs_prediabetes" name="bloodSugar" value="prediabetes" ${formData.bloodSugar === 'prediabetes' ? 'checked' : ''}>
                            <label for="bs_prediabetes">Prediabetes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bs_diabetes" name="bloodSugar" value="diabetes" ${formData.bloodSugar === 'diabetes' ? 'checked' : ''}>
                            <label for="bs_diabetes">Diabetes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Family history of heart disease</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="fhd_no" name="familyHeartDisease" value="no" ${formData.familyHeartDisease === 'no' ? 'checked' : ''}>
                            <label for="fhd_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="fhd_yes" name="familyHeartDisease" value="yes" ${formData.familyHeartDisease === 'yes' ? 'checked' : ''}>
                            <label for="fhd_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Chronic inflammation</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="ci_no" name="chronicInflammation" value="no" ${formData.chronicInflammation === 'no' ? 'checked' : ''}>
                            <label for="ci_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ci_yes" name="chronicInflammation" value="yes" ${formData.chronicInflammation === 'yes' ? 'checked' : ''}>
                            <label for="ci_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Digestive problems</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="dp_no" name="digestiveProblems" value="no" ${formData.digestiveProblems === 'no' ? 'checked' : ''}>
                            <label for="dp_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="dp_yes" name="digestiveProblems" value="yes" ${formData.digestiveProblems === 'yes' ? 'checked' : ''}>
                            <label for="dp_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Food allergies</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="fa_no" name="foodAllergies" value="no" ${formData.foodAllergies === 'no' ? 'checked' : ''}>
                            <label for="fa_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="fa_yes" name="foodAllergies" value="yes" ${formData.foodAllergies === 'yes' ? 'checked' : ''}>
                            <label for="fa_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Joint pain</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="jp_no" name="jointPain" value="no" ${formData.jointPain === 'no' ? 'checked' : ''}>
                            <label for="jp_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="jp_yes" name="jointPain" value="yes" ${formData.jointPain === 'yes' ? 'checked' : ''}>
                            <label for="jp_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Balance issues</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="bi_no" name="balanceIssues" value="no" ${formData.balanceIssues === 'no' ? 'checked' : ''}>
                            <label for="bi_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="bi_yes" name="balanceIssues" value="yes" ${formData.balanceIssues === 'yes' ? 'checked' : ''}>
                            <label for="bi_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Flexibility</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="flex_good" name="flexibility" value="good" ${formData.flexibility === 'good' ? 'checked' : ''}>
                            <label for="flex_good">Good</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="flex_average" name="flexibility" value="average" ${formData.flexibility === 'average' ? 'checked' : ''}>
                            <label for="flex_average">Average</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="flex_poor" name="flexibility" value="poor" ${formData.flexibility === 'poor' ? 'checked' : ''}>
                            <label for="flex_poor">Poor</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Air pollution exposure</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="aq_good" name="airQuality" value="good" ${formData.airQuality === 'good' ? 'checked' : ''}>
                            <label for="aq_good">Good</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="aq_moderate" name="airQuality" value="moderate" ${formData.airQuality === 'moderate' ? 'checked' : ''}>
                            <label for="aq_moderate">Moderate</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="aq_poor" name="airQuality" value="poor" ${formData.airQuality === 'poor' ? 'checked' : ''}>
                            <label for="aq_poor">Poor</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Sun exposure</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sun_low" name="sunExposure" value="low" ${formData.sunExposure === 'low' ? 'checked' : ''}>
                            <label for="sun_low">Low</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sun_moderate" name="sunExposure" value="moderate" ${formData.sunExposure === 'moderate' ? 'checked' : ''}>
                            <label for="sun_moderate">Moderate</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sun_high" name="sunExposure" value="high" ${formData.sunExposure === 'high' ? 'checked' : ''}>
                            <label for="sun_high">High</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Memory issues</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="mi_no" name="memoryIssues" value="no" ${formData.memoryIssues === 'no' ? 'checked' : ''}>
                            <label for="mi_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="mi_yes" name="memoryIssues" value="yes" ${formData.memoryIssues === 'yes' ? 'checked' : ''}>
                            <label for="mi_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Concentration problems</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="cp_no" name="concentrationProblems" value="no" ${formData.concentrationProblems === 'no' ? 'checked' : ''}>
                            <label for="cp_no">No</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="cp_yes" name="concentrationProblems" value="yes" ${formData.concentrationProblems === 'yes' ? 'checked' : ''}>
                            <label for="cp_yes">Yes</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Reaction time</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="rt_fast" name="reactionTime" value="fast" ${formData.reactionTime === 'fast' ? 'checked' : ''}>
                            <label for="rt_fast">Fast</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="rt_average" name="reactionTime" value="average" ${formData.reactionTime === 'average' ? 'checked' : ''}>
                            <label for="rt_average">Average</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="rt_slow" name="reactionTime" value="slow" ${formData.reactionTime === 'slow' ? 'checked' : ''}>
                            <label for="rt_slow">Slow</label>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between gap-4 mt-8">
                    <button onclick="previousStep()" class="btn btn-secondary">Previous</button>
                    <button onclick="nextStep()" class="btn btn-primary">Next</button>
                </div>
            `;
        }

        function renderStep3() {
            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Wellbeing and Lifestyle
                </h2>

                <div class="question-item">
                    <label class="question-label">Smoking</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="smoke_never" name="smoking" value="never" ${formData.smoking === 'never' ? 'checked' : ''}>
                            <label for="smoke_never">Never</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="smoke_former" name="smoking" value="former" ${formData.smoking === 'former' ? 'checked' : ''}>
                            <label for="smoke_former">Former</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="smoke_current" name="smoking" value="current" ${formData.smoking === 'current' ? 'checked' : ''}>
                            <label for="smoke_current">Current</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Alcohol consumption</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="alc_none" name="alcohol" value="none" ${formData.alcohol === 'none' ? 'checked' : ''}>
                            <label for="alc_none">None</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="alc_moderate" name="alcohol" value="moderate" ${formData.alcohol === 'moderate' ? 'checked' : ''}>
                            <label for="alc_moderate">Moderate</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="alc_heavy" name="alcohol" value="heavy" ${formData.alcohol === 'heavy' ? 'checked' : ''}>
                            <label for="alc_heavy">Heavy</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Sleep hours per night</label>
                    <input type="number" id="sleepHours" min="0" max="24" step="0.5" value="${formData.sleepHours}" placeholder="E.g.: 7">
                </div>

                <div class="question-item">
                    <label class="question-label">Sleep quality</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sq_good" name="sleepQuality" value="good" ${formData.sleepQuality === 'good' ? 'checked' : ''}>
                            <label for="sq_good">Good</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sq_average" name="sleepQuality" value="average" ${formData.sleepQuality === 'average' ? 'checked' : ''}>
                            <label for="sq_average">Average</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sq_poor" name="sleepQuality" value="poor" ${formData.sleepQuality === 'poor' ? 'checked' : ''}>
                            <label for="sq_poor">Poor</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Stress level</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="stress_low" name="stressLevel" value="low" ${formData.stressLevel === 'low' ? 'checked' : ''}>
                            <label for="stress_low">Low</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="stress_moderate" name="stressLevel" value="moderate" ${formData.stressLevel === 'moderate' ? 'checked' : ''}>
                            <label for="stress_moderate">Moderate</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="stress_high" name="stressLevel" value="high" ${formData.stressLevel === 'high' ? 'checked' : ''}>
                            <label for="stress_high">High</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Social connections</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="sc_many" name="socialConnections" value="many" ${formData.socialConnections === 'many' ? 'checked' : ''}>
                            <label for="sc_many">Many</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sc_some" name="socialConnections" value="some" ${formData.socialConnections === 'some' ? 'checked' : ''}>
                            <label for="sc_some">Some</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="sc_few" name="socialConnections" value="few" ${formData.socialConnections === 'few' ? 'checked' : ''}>
                            <label for="sc_few">Few</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Regular meditation / Relaxation</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="med_yes" name="meditation" value="yes" ${formData.meditation === 'yes' ? 'checked' : ''}>
                            <label for="med_yes">Yes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="med_no" name="meditation" value="no" ${formData.meditation === 'no' ? 'checked' : ''}>
                            <label for="med_no">No</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Life satisfaction</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="ls_high" name="lifeSatisfaction" value="high" ${formData.lifeSatisfaction === 'high' ? 'checked' : ''}>
                            <label for="ls_high">High</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ls_medium" name="lifeSatisfaction" value="medium" ${formData.lifeSatisfaction === 'medium' ? 'checked' : ''}>
                            <label for="ls_medium">Medium</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ls_low" name="lifeSatisfaction" value="low" ${formData.lifeSatisfaction === 'low' ? 'checked' : ''}>
                            <label for="ls_low">Low</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Vegetable servings per day</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="veg_0_1" name="vegetableServings" value="0-1" ${formData.vegetableServings === '0-1' ? 'checked' : ''}>
                            <label for="veg_0_1">0-1</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="veg_2_3" name="vegetableServings" value="2-3" ${formData.vegetableServings === '2-3' ? 'checked' : ''}>
                            <label for="veg_2_3">2-3</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="veg_4_5" name="vegetableServings" value="4-5" ${formData.vegetableServings === '4-5' ? 'checked' : ''}>
                            <label for="veg_4_5">4-5</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="veg_6plus" name="vegetableServings" value="6+" ${formData.vegetableServings === '6+' ? 'checked' : ''}>
                            <label for="veg_6plus">6+</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Processed food consumption</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="pf_rarely" name="processedFood" value="rarely" ${formData.processedFood === 'rarely' ? 'checked' : ''}>
                            <label for="pf_rarely">Rarely</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pf_sometimes" name="processedFood" value="sometimes" ${formData.processedFood === 'sometimes' ? 'checked' : ''}>
                            <label for="pf_sometimes">Sometimes</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="pf_often" name="processedFood" value="often" ${formData.processedFood === 'often' ? 'checked' : ''}>
                            <label for="pf_often">Often</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Water intake</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="water_insufficient" name="waterIntake" value="insufficient" ${formData.waterIntake === 'insufficient' ? 'checked' : ''}>
                            <label for="water_insufficient">Insufficient</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="water_adequate" name="waterIntake" value="adequate" ${formData.waterIntake === 'adequate' ? 'checked' : ''}>
                            <label for="water_adequate">Adequate</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="water_excellent" name="waterIntake" value="excellent" ${formData.waterIntake === 'excellent' ? 'checked' : ''}>
                            <label for="water_excellent">Excellent</label>
                        </div>
                    </div>
                </div>

                <div class="question-item">
                    <label class="question-label">Screen time per day (hours)</label>
                    <input type="number" id="screenTime" min="0" max="24" step="0.5" value="${formData.screenTime}" placeholder="E.g.: 4">
                </div>

                <div class="flex justify-between gap-4 mt-8">
                    <button onclick="previousStep()" class="btn btn-secondary">Previous</button>
                    <button onclick="calculateResults()" class="btn btn-primary">Calculate my biological age</button>
                </div>
            `;
        }

        function renderStep4(bioAge, recommendations) {
            const age = parseInt(formData.age);
            const diff = bioAge - age;
            const isYounger = diff < 0;
            const gradientClass = isYounger ? 'gradient-success' : (diff > 5 ? 'gradient-danger' : 'gradient-warning');

            const shareText = encodeURIComponent(`My biological age is ${bioAge} years old! Find out yours on BioAge`);
            const shareUrl = encodeURIComponent('https://www.agebiologique.eu/');

            return `
                <h2 class="text-3xl font-bold mb-6 gradient-bg bg-clip-text text-transparent" style="-webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Your Results
                </h2>

                <!-- Results Card -->
                <div class="${gradientClass} text-white rounded-2xl p-8 mb-8 text-center">
                    <h3 class="text-xl mb-4">Your Biological Age</h3>
                    <div class="text-6xl font-bold mb-4">${bioAge} years old</div>
                    <div class="text-lg">
                        ${isYounger
                            ? `Congratulations! You are ${Math.abs(diff)} year(s) younger than your chronological age.`
                            : diff === 0
                                ? 'Your biological age matches your chronological age.'
                                : `Your biological age is ${diff} year(s) older than your chronological age.`
                        }
                    </div>
                    <div class="mt-4 text-sm opacity-90">
                        Chronological age: ${age} years old
                    </div>
                </div>

                <!-- Medical Disclaimer -->
                <div class="disclaimer-banner">
                    <div class="flex items-start gap-3">
                        <svg class="w-6 h-6 text-amber-600 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                        </svg>
                        <div>
                            <h3 class="font-bold text-amber-900 mb-1">Important Reminder</h3>
                            <p class="text-sm text-amber-800">
                                These results are an estimate based on your lifestyle.
                                <strong>This is NOT a medical diagnosis.</strong>
                                Always consult a healthcare professional for personalized advice.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Recommendations -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-4">Personalized Recommendations</h3>
                    <div class="space-y-3">
                        ${recommendations.map(rec => `
                            <div class="flex items-start gap-3 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <svg class="w-6 h-6 text-blue-500 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                                <p class="text-gray-800">${rec}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Social Share -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-4">Share your results</h3>
                    <div class="flex flex-wrap gap-3">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=${shareUrl}&quote=${shareText}"
                           target="_blank"
                           class="share-btn share-facebook">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                            Facebook
                        </a>
                        <a href="https://twitter.com/intent/tweet?text=${shareText}&url=${shareUrl}"
                           target="_blank"
                           class="share-btn share-twitter">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                            Twitter
                        </a>
                        <a href="https://wa.me/?text=${shareText}%20${shareUrl}"
                           target="_blank"
                           class="share-btn share-whatsapp">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                            </svg>
                            WhatsApp
                        </a>
                    </div>
                </div>

                <div class="flex justify-center">
                    <button onclick="resetQuiz()" class="btn btn-primary">Restart the test</button>
                </div>
            `;
        }

        // Save form data for current step
        function saveStepData() {
            if (currentStepNumber === 1) {
                formData.age = document.getElementById('age')?.value || '';
                formData.weight = document.getElementById('weight')?.value || '';
                formData.height = document.getElementById('height')?.value || '';
                formData.gender = document.querySelector('input[name="gender"]:checked')?.value || '';
                formData.activityLevel = document.getElementById('activityLevel')?.value || '';
            } else if (currentStepNumber === 2) {
                formData.bloodPressure = document.querySelector('input[name="bloodPressure"]:checked')?.value || '';
                formData.cholesterol = document.querySelector('input[name="cholesterol"]:checked')?.value || '';
                formData.bloodSugar = document.querySelector('input[name="bloodSugar"]:checked')?.value || '';
                formData.familyHeartDisease = document.querySelector('input[name="familyHeartDisease"]:checked')?.value || '';
                formData.chronicInflammation = document.querySelector('input[name="chronicInflammation"]:checked')?.value || '';
                formData.digestiveProblems = document.querySelector('input[name="digestiveProblems"]:checked')?.value || '';
                formData.foodAllergies = document.querySelector('input[name="foodAllergies"]:checked')?.value || '';
                formData.jointPain = document.querySelector('input[name="jointPain"]:checked')?.value || '';
                formData.balanceIssues = document.querySelector('input[name="balanceIssues"]:checked')?.value || '';
                formData.flexibility = document.querySelector('input[name="flexibility"]:checked')?.value || '';
                formData.airQuality = document.querySelector('input[name="airQuality"]:checked')?.value || '';
                formData.sunExposure = document.querySelector('input[name="sunExposure"]:checked')?.value || '';
                formData.memoryIssues = document.querySelector('input[name="memoryIssues"]:checked')?.value || '';
                formData.concentrationProblems = document.querySelector('input[name="concentrationProblems"]:checked')?.value || '';
                formData.reactionTime = document.querySelector('input[name="reactionTime"]:checked')?.value || '';
            } else if (currentStepNumber === 3) {
                formData.smoking = document.querySelector('input[name="smoking"]:checked')?.value || '';
                formData.alcohol = document.querySelector('input[name="alcohol"]:checked')?.value || '';
                formData.sleepHours = document.getElementById('sleepHours')?.value || '';
                formData.sleepQuality = document.querySelector('input[name="sleepQuality"]:checked')?.value || '';
                formData.stressLevel = document.querySelector('input[name="stressLevel"]:checked')?.value || '';
                formData.socialConnections = document.querySelector('input[name="socialConnections"]:checked')?.value || '';
                formData.meditation = document.querySelector('input[name="meditation"]:checked')?.value || '';
                formData.lifeSatisfaction = document.querySelector('input[name="lifeSatisfaction"]:checked')?.value || '';
                formData.vegetableServings = document.querySelector('input[name="vegetableServings"]:checked')?.value || '';
                formData.processedFood = document.querySelector('input[name="processedFood"]:checked')?.value || '';
                formData.waterIntake = document.querySelector('input[name="waterIntake"]:checked')?.value || '';
                formData.screenTime = document.getElementById('screenTime')?.value || '';
            }
        }

        // Validate current step
        function validateStep() {
            if (currentStepNumber === 1) {
                if (!formData.age || !formData.weight || !formData.height || !formData.gender || !formData.activityLevel) {
                    alert('Please fill in all required fields.');
                    return false;
                }
                const age = parseInt(formData.age);
                if (age < 18 || age > 120) {
                    alert('Age must be between 18 and 120 years.');
                    return false;
                }
            } else if (currentStepNumber === 2) {
                const requiredFields = [
                    'bloodPressure', 'cholesterol', 'bloodSugar', 'familyHeartDisease',
                    'chronicInflammation', 'digestiveProblems', 'foodAllergies', 'jointPain',
                    'balanceIssues', 'flexibility', 'airQuality', 'sunExposure',
                    'memoryIssues', 'concentrationProblems', 'reactionTime'
                ];
                for (const field of requiredFields) {
                    if (!formData[field]) {
                        alert('Please answer all questions.');
                        return false;
                    }
                }
            } else if (currentStepNumber === 3) {
                const requiredFields = [
                    'smoking', 'alcohol', 'sleepHours', 'sleepQuality', 'stressLevel',
                    'socialConnections', 'meditation', 'lifeSatisfaction', 'vegetableServings',
                    'processedFood', 'waterIntake', 'screenTime'
                ];
                for (const field of requiredFields) {
                    if (!formData[field]) {
                        alert('Please answer all questions.');
                        return false;
                    }
                }
            }
            return true;
        }

        // Navigation functions
        function nextStep() {
            saveStepData();
            if (!validateStep()) {
                return;
            }
            currentStepNumber++;
            renderCurrentStep();
            updateProgress();
            window.scrollTo(0, 0);
        }

        function previousStep() {
            saveStepData();
            currentStepNumber--;
            renderCurrentStep();
            updateProgress();
            window.scrollTo(0, 0);
        }

        function resetQuiz() {
            // Reset all form data
            Object.keys(formData).forEach(key => formData[key] = '');
            currentStepNumber = 1;
            renderCurrentStep();
            updateProgress();
            window.scrollTo(0, 0);
        }

        // Calculate biological age
        function calculateResults() {
            saveStepData();
            if (!validateStep()) {
                return;
            }

            let bioAge = parseInt(formData.age);
            const recommendations = [];

            // BMI calculation and adjustment
            const weight = parseFloat(formData.weight);
            const heightM = parseFloat(formData.height) / 100;
            const bmi = weight / (heightM * heightM);

            if (bmi < 18.5) {
                bioAge += 1.5;
                recommendations.push('Your BMI is low. Consult a nutritionist to reach a healthy weight.');
            } else if (bmi >= 25 && bmi < 30) {
                bioAge += 2;
                recommendations.push('Your BMI indicates overweight. Aim for gradual weight loss with balanced diet and exercise.');
            } else if (bmi >= 30) {
                bioAge += 4;
                recommendations.push('Your BMI indicates obesity. Weight loss is strongly recommended for your health.');
            }

            // Activity level
            switch(formData.activityLevel) {
                case 'sedentary':
                    bioAge += 3;
                    recommendations.push('Increase your physical activity. Start with 30 minutes of daily walking.');
                    break;
                case 'light':
                    bioAge += 1;
                    recommendations.push('Increase the frequency of your exercises to 4-5 times per week.');
                    break;
                case 'moderate':
                    bioAge -= 1;
                    break;
                case 'intense':
                    bioAge -= 2;
                    break;
                case 'very_intense':
                    bioAge -= 3;
                    break;
            }

            // Blood pressure
            if (formData.bloodPressure === 'elevated') {
                bioAge += 1.5;
                recommendations.push('Monitor your blood pressure. Reduce salt and consult a doctor.');
            } else if (formData.bloodPressure === 'high') {
                bioAge += 3;
                recommendations.push('Hypertension detected. Urgent medical consultation recommended.');
            }

            // Cholesterol
            if (formData.cholesterol === 'borderline') {
                bioAge += 1;
                recommendations.push('Borderline cholesterol. Adopt a diet low in saturated fats.');
            } else if (formData.cholesterol === 'high') {
                bioAge += 2.5;
                recommendations.push('High cholesterol. Consult a doctor and modify your diet.');
            }

            // Blood sugar
            if (formData.bloodSugar === 'prediabetes') {
                bioAge += 2;
                recommendations.push('Prediabetes detected. Reduce sugars and increase physical activity.');
            } else if (formData.bloodSugar === 'diabetes') {
                bioAge += 4;
                recommendations.push('Diabetes identified. Regular medical follow-up is essential.');
            }

            // Family history
            if (formData.familyHeartDisease === 'yes') {
                bioAge += 1.5;
                recommendations.push('Family history of heart disease. Monitor your cardiovascular health regularly.');
            }

            // Chronic inflammation
            if (formData.chronicInflammation === 'yes') {
                bioAge += 2;
                recommendations.push('Chronic inflammation. Adopt an anti-inflammatory diet (omega-3, vegetables).');
            }

            // Digestive problems
            if (formData.digestiveProblems === 'yes') {
                bioAge += 1;
                recommendations.push('Digestive problems. Consult a gastroenterologist and adjust your diet.');
            }

            // Food allergies
            if (formData.foodAllergies === 'yes') {
                bioAge += 0.5;
            }

            // Joint pain
            if (formData.jointPain === 'yes') {
                bioAge += 1.5;
                recommendations.push('Joint pain. Practice low-impact exercises (swimming, yoga).');
            }

            // Balance issues
            if (formData.balanceIssues === 'yes') {
                bioAge += 2;
                recommendations.push('Balance issues. Consult a doctor and practice balance exercises.');
            }

            // Flexibility
            if (formData.flexibility === 'average') {
                bioAge += 0.5;
                recommendations.push('Work on your flexibility with daily stretching.');
            } else if (formData.flexibility === 'poor') {
                bioAge += 1.5;
                recommendations.push('Low flexibility. Incorporate yoga or stretching into your routine.');
            }

            // Air quality
            if (formData.airQuality === 'moderate') {
                bioAge += 0.5;
            } else if (formData.airQuality === 'poor') {
                bioAge += 1.5;
                recommendations.push('Exposure to poor air quality. Use an air purifier and avoid polluted areas.');
            }

            // Sun exposure
            if (formData.sunExposure === 'low') {
                bioAge += 1;
                recommendations.push('Low sun exposure. Carefully increase your exposure (vitamin D).');
            } else if (formData.sunExposure === 'high') {
                bioAge += 1.5;
                recommendations.push('Excessive sun exposure. Protect your skin with sunscreen.');
            }

            // Memory issues
            if (formData.memoryIssues === 'yes') {
                bioAge += 2;
                recommendations.push('Memory problems. Do brain exercises and consult if it persists.');
            }

            // Concentration problems
            if (formData.concentrationProblems === 'yes') {
                bioAge += 1;
                recommendations.push('Concentration difficulties. Improve your sleep and reduce distractions.');
            }

            // Reaction time
            if (formData.reactionTime === 'average') {
                bioAge += 0.5;
            } else if (formData.reactionTime === 'slow') {
                bioAge += 1.5;
                recommendations.push('Slow reaction time. Practice stimulating activities (sports, reflex games).');
            }

            // Smoking
            if (formData.smoking === 'former') {
                bioAge += 1;
                recommendations.push('Former smoker. Continue your good decision. Your lungs continue to regenerate.');
            } else if (formData.smoking === 'current') {
                bioAge += 5;
                recommendations.push('Active smoking. Quitting smoking is the best thing for your health. Consult a smoking cessation specialist.');
            }

            // Alcohol
            if (formData.alcohol === 'moderate') {
                bioAge += 0.5;
            } else if (formData.alcohol === 'heavy') {
                bioAge += 3;
                recommendations.push('Excessive alcohol consumption. Reduce gradually and consult if necessary.');
            }

            // Sleep hours
            const sleepHours = parseFloat(formData.sleepHours);
            if (sleepHours < 6) {
                bioAge += 3;
                recommendations.push('Insufficient sleep. Aim for 7-9 hours per night for optimal health.');
            } else if (sleepHours < 7) {
                bioAge += 1.5;
                recommendations.push('Slightly increase your sleep time to 7-8 hours.');
            } else if (sleepHours > 9) {
                bioAge += 1;
                recommendations.push('Excessive sleep. Consult a doctor if you regularly sleep more than 9 hours.');
            }

            // Sleep quality
            if (formData.sleepQuality === 'average') {
                bioAge += 1;
                recommendations.push('Improve your sleep quality: regular routine, dark and cool bedroom.');
            } else if (formData.sleepQuality === 'poor') {
                bioAge += 2.5;
                recommendations.push('Poor sleep quality. Consult a sleep specialist if it persists.');
            }

            // Stress level
            if (formData.stressLevel === 'moderate') {
                bioAge += 1;
                recommendations.push('Moderate stress. Practice meditation, yoga or deep breathing.');
            } else if (formData.stressLevel === 'high') {
                bioAge += 3;
                recommendations.push('High stress. Consult a professional and learn stress management techniques.');
            }

            // Social connections
            if (formData.socialConnections === 'some') {
                bioAge += 0.5;
                recommendations.push('Develop your social connections. Join clubs or group activities.');
            } else if (formData.socialConnections === 'few') {
                bioAge += 1.5;
                recommendations.push('Social isolation detected. Social connections are essential for mental health.');
            }

            // Meditation
            if (formData.meditation === 'yes') {
                bioAge -= 1;
            } else {
                recommendations.push('Try meditation or daily relaxation exercises.');
            }

            // Life satisfaction
            if (formData.lifeSatisfaction === 'medium') {
                bioAge += 0.5;
            } else if (formData.lifeSatisfaction === 'low') {
                bioAge += 2;
                recommendations.push('Low life satisfaction. Consult a psychologist or life coach.');
            }

            // Vegetable servings
            if (formData.vegetableServings === '0-1') {
                bioAge += 2;
                recommendations.push('Insufficient vegetable consumption. Aim for at least 5 servings per day.');
            } else if (formData.vegetableServings === '2-3') {
                bioAge += 0.5;
                recommendations.push('Increase your vegetable consumption to 5 servings per day.');
            } else if (formData.vegetableServings === '6+') {
                bioAge -= 0.5;
            }

            // Processed food
            if (formData.processedFood === 'sometimes') {
                bioAge += 1;
                recommendations.push('Reduce processed foods. Favor fresh and unprocessed foods.');
            } else if (formData.processedFood === 'often') {
                bioAge += 2.5;
                recommendations.push('Excessive consumption of processed foods. Cook more at home.');
            }

            // Water intake
            if (formData.waterIntake === 'insufficient') {
                bioAge += 1.5;
                recommendations.push('Insufficient hydration. Drink at least 1.5-2L of water per day.');
            } else if (formData.waterIntake === 'adequate') {
                bioAge += 0;
            } else if (formData.waterIntake === 'excellent') {
                bioAge -= 0.5;
            }

            // Screen time
            const screenTime = parseFloat(formData.screenTime);
            if (screenTime > 6) {
                bioAge += 2;
                recommendations.push('Excessive screen time. Limit to 4 hours maximum and take regular breaks.');
            } else if (screenTime > 4) {
                bioAge += 1;
                recommendations.push('Reduce your screen time and take breaks every hour.');
            }

            // Round biological age
            bioAge = Math.round(bioAge);

            // Ensure we have at least a few recommendations
            if (recommendations.length === 0) {
                recommendations.push('Excellent! Continue your good lifestyle habits.');
                recommendations.push('Maintain regular physical activity.');
                recommendations.push('Keep a balanced and varied diet.');
            } else if (recommendations.length > 8) {
                // Keep only the most important ones
                recommendations.splice(8);
            }

            currentStepNumber = 4;
            document.getElementById('wizardContent').innerHTML = renderStep4(bioAge, recommendations);
            updateProgress();
            window.scrollTo(0, 0);
        }

        // Render current step
        function renderCurrentStep() {
            const container = document.getElementById('wizardContent');
            if (currentStepNumber === 1) {
                container.innerHTML = renderStep1();
            } else if (currentStepNumber === 2) {
                container.innerHTML = renderStep2();
            } else if (currentStepNumber === 3) {
                container.innerHTML = renderStep3();
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkCookieConsent();
            renderCurrentStep();
            updateProgress();
        });
    </script>
</body>
</html>
